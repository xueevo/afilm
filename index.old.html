<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AFilm ‚Äî –î–µ—Ç–µ–∫—Ç–∏–≤–Ω–∞—è –ò—Å—Ç–æ—Ä–∏—è –æ –ª—é–±–∏—Ç–µ–ª—å—Å–∫–æ–º –∫–∏–Ω–æ</title>
    <style>
        :root {
            --bg: #1C1B1A;
            --panel: #242321;
            --card: #2A2927;
            --muted: #A8A29E;
            --text: #ECEAE7;
            --accent: #F59E57;
            --accent-press: #D8843F;
            --stroke: #3A3936;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background-color: var(--bg);
            color: var(--text);
            font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;
            line-height: 1.5;
            font-size: 16px;
        }

        /* Layout */
        .app {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        .header {
            background: linear-gradient(135deg, var(--panel) 0%, var(--card) 100%);
            padding: 1.5rem;
            border-bottom: 1px solid var(--stroke);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 36px;
            font-weight: 700;
            color: var(--accent);
            text-decoration: none;
            cursor: pointer;
        }

        .nav {
            display: flex;
            gap: 1rem;
        }

        .nav-btn {
            background: none;
            border: none;
            color: var(--text);
            cursor: pointer;
            font-size: 14px;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .nav-btn:hover {
            background-color: var(--stroke);
            color: var(--accent);
        }

        .nav-btn.active {
            color: var(--accent);
            background-color: rgba(245, 158, 87, 0.1);
        }

        .main {
            flex: 1;
            padding: 2rem;
            overflow-y: auto;
        }

        /* Sections */
        .section {
            display: none;
            animation: fadeIn 0.3s ease;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Hero */
        .hero {
            text-align: center;
            padding: 4rem 2rem;
            background: 
                linear-gradient(135deg, rgba(28, 27, 26, 0.7) 0%, rgba(36, 35, 33, 0.7) 100%),
                linear-gradient(180deg, rgba(0,0,0,0.4) 0%, rgba(0,0,0,0.2) 50%, rgba(0,0,0,0.4) 100%),
                radial-gradient(ellipse at center, rgba(245, 158, 87, 0.1) 0%, transparent 70%);
            background-color: #1C1B1A;
            background-image: 
                url('data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwwDAwwGEAwMGBAwHBgcFBcYHBcGFBcYIBwcICsJCAgKCAkLDA0ODA0HDA0ODw0P/2wBDAQICAgMDAwYDAwYMCAcIDAwYDAwwDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwP/wAARCADIAZADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWm5ybnJ2eoqOkpaanqKmqsrO0tba2uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba2uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9/KKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigD/2Q=='),
                url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1600 900"><defs><filter id="glow"><feGaussianBlur stdDeviation="4"/></filter></defs><rect width="1600" height="900" fill="%231C1B1A"/><g opacity="0.3"><rect x="100" y="150" width="120" height="600" fill="%232A2927"/><rect x="300" y="200" width="100" height="550" fill="%232A2927"/><rect x="500" y="100" width="110" height="600" fill="%232A2927"/><circle cx="1150" cy="250" r="60" fill="%23242321" stroke="%23F59E57" stroke-width="2"/><line x1="50" y1="750" x2="1550" y2="750" stroke="%233A3936" stroke-width="3"/></g><g opacity="0.2" filter="url(%23glow)"><ellipse cx="300" cy="350" rx="400" ry="300" fill="%23F59E57"/><ellipse cx="1200" cy="400" rx="350" ry="250" fill="%23F59E57"/></g></svg>');
            background-size: cover, cover, cover;
            background-position: center, center, center;
            background-attachment: fixed;
            min-height: 60vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
        }

        .hero::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: 
                radial-gradient(circle at 25% 35%, rgba(245, 158, 87, 0.2) 0%, transparent 45%),
                radial-gradient(circle at 75% 65%, rgba(245, 158, 87, 0.12) 0%, transparent 50%);
            pointer-events: none;
        }

        .hero > * {
            position: relative;
            z-index: 1;
        }

        .hero h1 {
            font-size: 72px;
            font-weight: 900;
            color: var(--accent);
            margin-bottom: 0.5rem;
            letter-spacing: -2px;
        }

        .hero p {
            font-size: 28px;
            color: var(--muted);
            margin-bottom: 3rem;
            font-weight: 300;
        }

        .button-group {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            max-width: 400px;
            margin: 0 auto;
        }

        /* Buttons */
        button {
            padding: 1rem 2rem;
            border: none;
            border-radius: 16px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary {
            background-color: var(--accent);
            color: var(--bg);
        }

        .btn-primary:hover {
            background-color: var(--accent-press);
            transform: translateY(-2px);
            box-shadow: 0 8px 16px rgba(245, 158, 87, 0.3);
        }

        .btn-secondary {
            background-color: var(--card);
            color: var(--text);
            border: 1px solid var(--stroke);
        }

        .btn-secondary:hover {
            background-color: var(--panel);
            border-color: var(--accent);
            color: var(--accent);
        }

        .btn-small {
            padding: 0.5rem 1rem;
            font-size: 14px;
        }

        /* Case Investigation */
        .case-container {
            display: grid;
            grid-template-columns: 1fr 320px;
            gap: 2rem;
        }

        .case-main {
            flex: 1;
        }

        .case-panel {
            background: var(--panel);
            border: 1px solid var(--stroke);
            border-radius: 16px;
            padding: 1.5rem;
            position: sticky;
            top: 2rem;
            max-height: 70vh;
            overflow-y: auto;
        }

        .case-panel h3 {
            font-size: 14px;
            text-transform: uppercase;
            color: var(--accent);
            margin-bottom: 1rem;
            font-weight: 700;
            letter-spacing: 1px;
        }

        .case-panel-section {
            margin-bottom: 1.5rem;
        }

        .case-panel-section:last-child {
            margin-bottom: 0;
        }

        .evidence-list, .character-list, .timeline-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .badge {
            background-color: var(--card);
            border: 1px solid var(--stroke);
            border-radius: 8px;
            padding: 0.5rem 0.75rem;
            font-size: 12px;
            color: var(--muted);
            display: inline-block;
        }

        .badge.unlocked {
            background-color: rgba(245, 158, 87, 0.1);
            border-color: var(--accent);
            color: var(--accent);
        }

        .scene-container {
            background: var(--card);
            border: 1px solid var(--stroke);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .scene-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }

        .scene-meta {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
        }

        .meta-badge {
            font-size: 12px;
            color: var(--muted);
            background-color: var(--panel);
            padding: 0.25rem 0.75rem;
            border-radius: 6px;
        }

        .scene-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 1rem;
            color: var(--accent);
        }

        .scene-text {
            font-size: 16px;
            line-height: 1.7;
            margin-bottom: 1.5rem;
            color: var(--text);
        }

        .media-placeholder {
            background: linear-gradient(135deg, var(--panel) 0%, var(--stroke) 100%);
            border: 1px dashed var(--stroke);
            border-radius: 12px;
            aspect-ratio: 16/9;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-bottom: 1.5rem;
            flex-direction: column;
            gap: 1rem;
            color: var(--muted);
            font-size: 14px;
            overflow: hidden;
            position: relative;
        }

        .media-placeholder video,
        .media-placeholder img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .media-icon {
            font-size: 32px;
            opacity: 0.5;
        }

        .pixi-box {
            background: linear-gradient(135deg, rgba(245, 158, 87, 0.1) 0%, rgba(245, 158, 87, 0.05) 100%);
            border: 1px solid rgba(245, 158, 87, 0.3);
            border-radius: 12px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            border-left: 4px solid var(--accent);
        }

        .pixi-label {
            font-size: 12px;
            color: var(--accent);
            font-weight: 700;
            text-transform: uppercase;
            margin-bottom: 0.5rem;
            letter-spacing: 1px;
        }

        .pixi-text {
            font-size: 14px;
            color: var(--text);
            line-height: 1.6;
        }

        .choices {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
            margin-top: 2rem;
        }

        .choice-btn {
            text-align: left;
            padding: 1rem;
            background-color: var(--panel);
            border: 1px solid var(--stroke);
            color: var(--text);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .choice-btn:hover {
            background-color: var(--card);
            border-color: var(--accent);
            color: var(--accent);
        }

        /* Navigation buttons */
        .scene-nav {
            display: flex;
            justify-content: space-between;
            gap: 1rem;
            margin-top: 2rem;
        }

        /* Camera Database */
        .camera-controls {
            display: flex;
            gap: 1rem;
            margin-bottom: 2rem;
            flex-wrap: wrap;
        }

        .search-box {
            flex: 1;
            min-width: 200px;
            padding: 0.75rem 1rem;
            background-color: var(--card);
            border: 1px solid var(--stroke);
            border-radius: 8px;
            color: var(--text);
            font-size: 14px;
        }

        .search-box::placeholder {
            color: var(--muted);
        }

        .filter-pills {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }

        .filter-pill {
            padding: 0.5rem 1rem;
            background-color: var(--card);
            border: 1px solid var(--stroke);
            border-radius: 20px;
            color: var(--muted);
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }

        .filter-pill.active {
            background-color: var(--accent);
            color: var(--bg);
            border-color: var(--accent);
        }

        .filter-pill:hover {
            border-color: var(--accent);
            color: var(--accent);
        }

        .camera-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .camera-card {
            background: var(--card);
            border: 1px solid var(--stroke);
            border-radius: 16px;
            overflow: hidden;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .camera-card:hover {
            border-color: var(--accent);
            transform: translateY(-4px);
            box-shadow: 0 12px 24px rgba(245, 158, 87, 0.2);
        }

        .camera-image {
            background: linear-gradient(135deg, var(--panel) 0%, var(--stroke) 100%);
            aspect-ratio: 4/3;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 80px;
            color: var(--accent);
            overflow: hidden;
        }

        .camera-info {
            padding: 1.5rem;
        }

        .camera-name {
            font-size: 18px;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 0.25rem;
        }

        .camera-maker {
            font-size: 13px;
            color: var(--muted);
            margin-bottom: 0.75rem;
        }

        .camera-tags {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .camera-tag {
            background-color: var(--panel);
            border: 1px solid var(--stroke);
            color: var(--text);
            padding: 0.25rem 0.5rem;
            border-radius: 4px;
            font-size: 11px;
        }

        .camera-specs {
            font-size: 12px;
            color: var(--muted);
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .camera-card button {
            width: 100%;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: var(--panel);
            border: 1px solid var(--stroke);
            border-radius: 16px;
            max-width: 600px;
            max-height: 80vh;
            overflow-y: auto;
            padding: 2rem;
            position: relative;
            animation: slideUp 0.3s ease;
        }

        @keyframes slideUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: var(--text);
            font-size: 24px;
            cursor: pointer;
            padding: 0;
        }

        .modal-close:hover {
            color: var(--accent);
        }

        .modal-title {
            font-size: 32px;
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 1rem;
        }

        .modal-image {
            width: 100%;
            aspect-ratio: 4/3;
            background: linear-gradient(135deg, var(--card) 0%, var(--stroke) 100%);
            border-radius: 12px;
            margin-bottom: 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 120px;
            color: var(--accent);
            overflow: hidden;
        }

        .modal-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .modal-body {
            font-size: 15px;
            line-height: 1.8;
            margin-bottom: 1.5rem;
        }

        .modal-specs {
            background-color: var(--card);
            border: 1px solid var(--stroke);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1.5rem;
            font-size: 14px;
        }

        .spec-line {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--stroke);
        }

        .spec-line:last-child {
            border-bottom: none;
        }

        .spec-label {
            color: var(--muted);
            font-weight: 600;
        }

        .spec-value {
            color: var(--accent);
        }

        /* Mini-game */
        .minigame-container {
            max-width: 800px;
        }

        .minigame-slots {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }

        .slot {
            background: var(--card);
            border: 1px solid var(--stroke);
            border-radius: 12px;
            padding: 1rem;
        }

        .slot-label {
            font-size: 12px;
            color: var(--muted);
            text-transform: uppercase;
            margin-bottom: 0.5rem;
            font-weight: 700;
            letter-spacing: 1px;
        }

        .slot-preview {
            background: linear-gradient(135deg, var(--panel) 0%, var(--stroke) 100%);
            aspect-ratio: 16/9;
            border-radius: 8px;
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--muted);
            font-size: 24px;
        }

        .slot-select {
            width: 100%;
            padding: 0.75rem;
            background-color: var(--panel);
            border: 1px solid var(--stroke);
            border-radius: 6px;
            color: var(--text);
            font-size: 14px;
        }

        .minigame-buttons {
            display: flex;
            gap: 1rem;
        }

        .minigame-buttons button {
            flex: 1;
        }

        /* About */
        .about-container {
            max-width: 800px;
        }

        .about-section {
            background: var(--card);
            border: 1px solid var(--stroke);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
        }

        .about-section h2 {
            font-size: 24px;
            color: var(--accent);
            margin-bottom: 1rem;
        }

        .about-section p {
            line-height: 1.8;
            margin-bottom: 1rem;
        }

        .about-section p:last-child {
            margin-bottom: 0;
        }

        .team-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 1rem;
        }

        .team-member {
            background: var(--panel);
            border: 1px solid var(--stroke);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
        }

        .team-member-name {
            font-weight: 700;
            color: var(--accent);
            margin-bottom: 0.25rem;
        }

        .team-member-role {
            font-size: 12px;
            color: var(--muted);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .hero h1 {
                font-size: 48px;
            }

            .hero p {
                font-size: 20px;
            }

            .case-container {
                grid-template-columns: 1fr;
            }

            .case-panel {
                position: relative;
                top: 0;
                max-height: none;
            }

            .camera-grid {
                grid-template-columns: 1fr;
            }

            .main {
                padding: 1rem;
            }

            .header {
                flex-direction: column;
                gap: 1rem;
            }

            .nav {
                width: 100%;
                justify-content: space-around;
            }
        }
    </style>
</head>
<body>
    <div class="app">
        <header class="header">
            <a class="logo" onclick="goToHome()">AFilm</a>
            <nav class="nav">
                <button class="nav-btn active" data-section="home" onclick="switchSection('home')">–ì–ª–∞–≤–Ω–∞—è</button>
                <button class="nav-btn" data-section="case" onclick="switchSection('case')">–†–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</button>
                <button class="nav-btn" data-section="db" onclick="switchSection('db')">–ë–∞–∑–∞ –∫–∞–º–µ—Ä</button>
                <button class="nav-btn" data-section="about" onclick="switchSection('about')">–û –ø—Ä–æ–µ–∫—Ç–µ</button>
            </nav>
        </header>

        <main class="main">
            <!-- HOME -->
           <!-- –ì–ª–∞–≤–Ω–∞—è —Å–µ–∫—Ü–∏—è —Å –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º —Ñ–æ–Ω–æ–º -->
<section id="home" class="section active" style="position: relative;">
    <!-- –ó–∞—Ç–µ–º–Ω—è—é—â–∏–π overlay -->
    <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.6); z-index: 0;"></div>
    
    <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç –≥–µ—Ä–æ—è -->
    <div class="hero" style="position: relative; z-index: 1;">
        <h1 style="font-size: 3.5rem; font-weight: 700; margin-bottom: 1rem; color: #F59E57; text-shadow: 2px 2px 4px rgba(0,0,0,0.7); background: linear-gradient(135deg, #F59E57 0%, #FFB84D 50%, #F59E57 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">
            AFilm
        </h1>
        
        <p style="font-size: 1.3rem; margin-bottom: 2rem; color: #E8E3DA; max-width: 600px; margin-left: auto; margin-right: auto; text-shadow: 1px 1px 2px rgba(0,0,0,0.7); line-height: 1.6;">
            –î–µ—Ç–µ–∫—Ç–∏–≤–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –æ –ª—é–±–∏—Ç–µ–ª—å—Å–∫–æ–º –∫–∏–Ω–æ
        </p>
        
        <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap;">
            <button onclick="openTrailerModal()" class="cta-button" style="background: linear-gradient(135deg, #F59E57 0%, #E8945A 100%); color: white; padding: 12px 30px; border-radius: 25px; text-decoration: none; font-weight: 600; transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(245, 158, 87, 0.4); border: none; display: inline-block; cursor: pointer;">
                –°–º–æ—Ç—Ä–µ—Ç—å —Ç—Ä–µ–π–ª–µ—Ä
            </button>
            <a href="docs/AFilm_Vision.pdf" target="_blank" class="cta-button-secondary" style="background: transparent; color: #E8E3DA; padding: 12px 30px; border: 2px solid #F59E57; border-radius: 25px; text-decoration: none; font-weight: 600; transition: all 0.3s ease; display: inline-block;">
                –£–∑–Ω–∞—Ç—å –±–æ–ª—å—à–µ
            </a>
        </div>
    </div>
</section>

<!-- –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç–∏–ª–∏ -->
<style>
.hero {
    text-align: center;
    padding: 4rem 2rem;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    /* –ì–õ–ê–í–ù–û–ï: —Ñ–æ–Ω —Ç–µ–ø–µ—Ä—å –∑–¥–µ—Å—å —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º –ø–æ—Ä—è–¥–∫–æ–º —Å–ª–æ—ë–≤ */
    background:
        url('images/fon.jpg') center/cover no-repeat;
    background-attachment: fixed;
}

.cta-button:hover {
    transform: translateY(-2px);
    box-shadow: 0 6px 20px rgba(245, 158, 87, 0.6) !important;
}

.cta-button-secondary:hover {
    background: rgba(245, 158, 87, 0.1);
    transform: translateY(-2px);
    box-shadow: 0 4px 15px rgba(245, 158, 87, 0.3);
}

/* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
@media (max-width: 768px) {
    .hero {
        padding: 2rem 1rem;
        background-attachment: scroll; /* –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É–±–∏—Ä–∞–µ–º fixed */
    }
    
    .hero h1 {
        font-size: 2.5rem !important;
    }
    
    .hero p {
        font-size: 1.1rem !important;
        margin-bottom: 1.5rem !important;
    }
    
    .cta-button, .cta-button-secondary {
        padding: 10px 25px !important;
        font-size: 0.9rem;
    }
}
</style>

            <!-- CASE -->
            <section id="case" class="section">
                <div class="case-container">
                    <div class="case-main">
                        <div id="scene-render"></div>
                        <div class="scene-nav">
                            <button class="btn-secondary btn-small" id="prev-btn" onclick="previousScene()" style="display:none;">‚Üê –ù–∞–∑–∞–¥</button>
                            <button class="btn-secondary btn-small" id="next-btn" onclick="nextScene()" style="display:none;">–í–ø–µ—Ä—ë–¥ ‚Üí</button>
                            <button class="btn-primary" id="minigame-btn" onclick="switchSection('minigame')" style="display:none;">üéì –ü–æ–ª—É—á–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–µ—Ç–µ–∫—Ç–∏–≤–∞</button>
                        </div>
                    </div>

                    <aside class="case-panel">
                        <div class="case-panel-section">
                            <h3>–£–ª–∏–∫–∏</h3>
                            <div id="evidence-panel" class="evidence-list"></div>
                        </div>
                        <div class="case-panel-section">
                            <h3>–ü–µ—Ä—Å–æ–Ω–∞–∂–∏</h3>
                            <div id="character-panel" class="character-list"></div>
                        </div>
                        <div class="case-panel-section">
                            <h3>–ö–∞–º–µ—Ä—ã</h3>
                            <div id="camera-panel" class="character-list"></div>
                        </div>
                    </aside>
                </div>
            </section>

            <!-- DATABASE -->
            <section id="db" class="section">
                <div class="camera-controls">
                    <input type="text" class="search-box" id="search-input" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∏–ª–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—é..." onkeyup="filterCameras()">
                </div>
                <div class="filter-pills">
                    <button class="filter-pill active" onclick="toggleFilter(this, 'all')">–í—Å–µ</button>
                    <button class="filter-pill" onclick="toggleFilter(this, '–†–∞–Ω–Ω—è—è —Ü–∏—Ñ—Ä–æ–≤–∞—è')">–†–∞–Ω–Ω—è—è —Ü–∏—Ñ—Ä–æ–≤–∞—è</button>
                    <button class="filter-pill" onclick="toggleFilter(this, '–ö–∞—Ä–º–∞–Ω–Ω–∞—è')">–ö–∞—Ä–º–∞–Ω–Ω–∞—è</button>
                    <button class="filter-pill" onclick="toggleFilter(this, '–ü–æ–ª—É–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è')">–ü–æ–ª—É–ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è</button>
                    <button class="filter-pill" onclick="toggleFilter(this, '–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è')">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è</button>
                </div>
                <div class="camera-grid" id="camera-grid"></div>
            </section>

            <!-- MINIGAME -->
            <section id="minigame" class="section">
                <h2 style="color: var(--accent); margin-bottom: 1rem;">–ü–æ–ª—É—á–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–µ—Ç–µ–∫—Ç–∏–≤–∞</h2>
                <p style="color: var(--muted); max-width: 700px; margin: 0 auto 2rem auto; text-align: center;">
                    –¢—ã —Ä–∞—Å–∫—Ä—ã–ª –¥–µ–ª–æ –∏ –Ω–∞—É—á–∏–ª—Å—è —á–∏—Ç–∞—Ç—å —è–∑—ã–∫ –∫–∞–º–µ—Ä. –¢–µ–ø–µ—Ä—å –≤—ã–±–µ—Ä–∏ –∫–∞–º–µ—Ä—ã –¥–ª—è —Ç—Ä—ë—Ö —Ç–∏–ø–æ–≤—ã—Ö —Å—Ü–µ–Ω –∏ –ø–æ–ª—É—á–∏ —Å–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç!
                </p>
                
                <div class="minigame-container">
                    <!-- –°—Ü–µ–Ω–∞ 1 -->
                    <div style="background: var(--card); border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem; border-left: 4px solid var(--accent);">
                        <div style="display: flex; justify-content: space-between; align-items: start; gap: 2rem; flex-wrap: wrap;">
                            <div style="flex: 1; min-width: 250px;">
                                <h3 style="color: var(--accent); margin: 0 0 0.5rem 0; font-size: 18px;">–°—Ü–µ–Ω–∞ 1: –ò–Ω—Ç–µ—Ä–≤—å—é —Å –≥–µ—Ä–æ–µ–º</h3>
                                <p style="color: var(--muted); font-size: 14px; margin: 0 0 1rem 0; line-height: 1.6;">
                                    –ö—Ä—É–ø–Ω—ã–π –ø–ª–∞–Ω, –≤–∞–∂–Ω–∞ —ç–º–æ—Ü–∏—è –∏ –±–ª–∏–∑–æ—Å—Ç—å –∫ –ø–µ—Ä—Å–æ–Ω–∞–∂—É. –ö–∞–º–µ—Ä–∞ —Å—Ç–∞—Ç–∏—á–Ω–∞, —Ñ–æ–∫—É—Å –Ω–∞ –ª–∏—Ü–µ –∏ —Ä–µ—á–∏.
                                </p>
                                <div style="font-size: 13px; color: var(--muted); line-height: 1.8;">
                                    <div style="margin-bottom: 0.3rem;">üìπ <strong style="color: var(--accent);">TRV900</strong> ‚Äî —Ç—ë–ø–ª—ã–µ —Ç–æ–Ω–∞, –≤–∏–Ω—Ç–∞–∂–Ω–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞</div>
                                    <div style="margin-bottom: 0.3rem;">üé¨ <strong style="color: var(--accent);">DVX100</strong> ‚Äî –∫–∏–Ω–æ—à–Ω—ã–π 24p, –¥—Ä–∞–º–∞—Ç–∏–∑–º</div>
                                    <div>üì± <strong style="color: var(--accent);">GoPro</strong> ‚Äî —à–∏—Ä–æ–∫–∏–π —É–≥–æ–ª, –ø–æ–∫–∞–∑–∞—Ç—å –æ–∫—Ä—É–∂–µ–Ω–∏–µ</div>
                                </div>
                            </div>
                            <div style="min-width: 200px;">
                                <div class="slot-preview" id="preview-1" style="text-align: center; margin-bottom: 0.5rem; min-height: 120px;">
                                    <div style="background: linear-gradient(135deg, rgba(245, 158, 87, 0.05) 0%, rgba(245, 158, 87, 0.02) 100%); border-radius: 12px; padding: 1rem; border: 1px dashed var(--accent); height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 0.5rem;">
                                        <div style="font-size: 32px;">üé¨</div>
                                        <div style="font-size: 11px; font-style: italic; color: var(--muted); text-align: center; line-height: 1.4;">"–°–Ω–∏–º–∞–π—Ç–µ —Ç–∞–∫, –±—É–¥—Ç–æ —ç—Ç–æ –≤–∞—à –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–∞–¥—Ä"</div>
                                    </div>
                                </div>
                                <select id="camera-1" class="slot-select" onchange="updatePreview(1)" style="width: 100%; padding: 0.75rem; background: var(--panel); border: 1px solid var(--stroke); border-radius: 8px; color: var(--text); font-size: 14px;">
                                    <option value="">–í—ã–±–µ—Ä–∏ –∫–∞–º–µ—Ä—É...</option>
                                    <option value="trv900">TRV900 (—Ç—ë–ø–ª–æ/–≤–∏–Ω—Ç–∞–∂)</option>
                                    <option value="dvx100">DVX100 (24p/–∫–∏–Ω–æ)</option>
                                    <option value="gopro">GoPro (—à–∏—Ä–æ–∫–∏–π —É–≥–æ–ª)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- –°—Ü–µ–Ω–∞ 2 -->
                    <div style="background: var(--card); border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem; border-left: 4px solid var(--accent);">
                        <div style="display: flex; justify-content: space-between; align-items: start; gap: 2rem; flex-wrap: wrap;">
                            <div style="flex: 1; min-width: 250px;">
                                <h3 style="color: var(--accent); margin: 0 0 0.5rem 0; font-size: 18px;">–°—Ü–µ–Ω–∞ 2: –ü–æ–≥–æ–Ω—è –ø–æ –≥–æ—Ä–æ–¥—É</h3>
                                <p style="color: var(--muted); font-size: 14px; margin: 0 0 1rem 0; line-height: 1.6;">
                                    –î–∏–Ω–∞–º–∏—á–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ, —ç–∫—à–Ω. –ö–∞–º–µ—Ä–∞ –¥–æ–ª–∂–Ω–∞ –ø–µ—Ä–µ–¥–∞—Ç—å —Å–∫–æ—Ä–æ—Å—Ç—å, –∞–¥—Ä–µ–Ω–∞–ª–∏–Ω –∏ –Ω–∞–ø—Ä—è–∂–µ–Ω–∏–µ –º–æ–º–µ–Ω—Ç–∞.
                                </p>
                                <div style="font-size: 13px; color: var(--muted); line-height: 1.8;">
                                    <div style="margin-bottom: 0.3rem;">üìπ <strong style="color: var(--accent);">TRV900</strong> ‚Äî –º—è–≥–∫–æ–µ –¥—Ä–æ–∂–∞–Ω–∏–µ, —Ä—É—á–Ω–∞—è —Å—ä—ë–º–∫–∞</div>
                                    <div style="margin-bottom: 0.3rem;">üé¨ <strong style="color: var(--accent);">DVX100</strong> ‚Äî –∫–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∏—á–Ω–∞—è –ø–æ–≥–æ–Ω—è</div>
                                    <div>üì± <strong style="color: var(--accent);">GoPro</strong> ‚Äî –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–∏–Ω–∞–º–∏–∫–∞, POV</div>
                                </div>
                            </div>
                            <div style="min-width: 200px;">
                                <div class="slot-preview" id="preview-2" style="text-align: center; margin-bottom: 0.5rem; min-height: 120px;">
                                    <div style="background: linear-gradient(135deg, rgba(245, 158, 87, 0.05) 0%, rgba(245, 158, 87, 0.02) 100%); border-radius: 12px; padding: 1rem; border: 1px dashed var(--accent); height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 0.5rem;">
                                        <div style="font-size: 32px;">üé•</div>
                                        <div style="font-size: 11px; font-style: italic; color: var(--muted); text-align: center; line-height: 1.4;">"–ö–∞–º–µ—Ä–∞ –≤–∏–¥–∏—Ç –±–æ–ª—å—à–µ, —á–µ–º –≥–ª–∞–∑–∞"</div>
                                    </div>
                                </div>
                                <select id="camera-2" class="slot-select" onchange="updatePreview(2)" style="width: 100%; padding: 0.75rem; background: var(--panel); border: 1px solid var(--stroke); border-radius: 8px; color: var(--text); font-size: 14px;">
                                    <option value="">–í—ã–±–µ—Ä–∏ –∫–∞–º–µ—Ä—É...</option>
                                    <option value="trv900">TRV900 (—Ç—ë–ø–ª–æ/—Ä—É—á–Ω–∞—è)</option>
                                    <option value="dvx100">DVX100 (24p/–∫–∏–Ω–æ)</option>
                                    <option value="gopro">GoPro (—ç–∫—à–Ω/POV)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <!-- –°—Ü–µ–Ω–∞ 3 -->
                    <div style="background: var(--card); border-radius: 12px; padding: 1.5rem; margin-bottom: 1.5rem; border-left: 4px solid var(--accent);">
                        <div style="display: flex; justify-content: space-between; align-items: start; gap: 2rem; flex-wrap: wrap;">
                            <div style="flex: 1; min-width: 250px;">
                                <h3 style="color: var(--accent); margin: 0 0 0.5rem 0; font-size: 18px;">–°—Ü–µ–Ω–∞ 3: –§–∏–Ω–∞–ª—å–Ω–∞—è –≤—Å—Ç—Ä–µ—á–∞</h3>
                                <p style="color: var(--muted); font-size: 14px; margin: 0 0 1rem 0; line-height: 1.6;">
                                    –ö—É–ª—å–º–∏–Ω–∞—Ü–∏—è –∏—Å—Ç–æ—Ä–∏–∏. –í–∞–∂–Ω–∞ –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞, –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –∏ –≤–∏–∑—É–∞–ª—å–Ω–∞—è —ç–º–æ—Ü–∏—è. –ß—Ç–æ –ø–æ—á—É–≤—Å—Ç–≤—É–µ—Ç –∑—Ä–∏—Ç–µ–ª—å?
                                </p>
                                <div style="font-size: 13px; color: var(--muted); line-height: 1.8;">
                                    <div style="margin-bottom: 0.3rem;">üìπ <strong style="color: var(--accent);">TRV900</strong> ‚Äî —Ç—ë–ø–ª–∞—è –Ω–æ—Å—Ç–∞–ª—å–≥–∏—á–µ—Å–∫–∞—è –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞</div>
                                    <div style="margin-bottom: 0.3rem;">üé¨ <strong style="color: var(--accent);">DVX100</strong> ‚Äî –¥—Ä–∞–º–∞—Ç–∏—á–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ</div>
                                    <div>üì± <strong style="color: var(--accent);">GoPro</strong> ‚Äî —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–π –≤–∑–≥–ª—è–¥</div>
                                </div>
                            </div>
                            <div style="min-width: 200px;">
                                <div class="slot-preview" id="preview-3" style="text-align: center; margin-bottom: 0.5rem; min-height: 120px;">
                                    <div style="background: linear-gradient(135deg, rgba(245, 158, 87, 0.05) 0%, rgba(245, 158, 87, 0.02) 100%); border-radius: 12px; padding: 1rem; border: 1px dashed var(--accent); height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 0.5rem;">
                                        <div style="font-size: 32px;">üéûÔ∏è</div>
                                        <div style="font-size: 11px; font-style: italic; color: var(--muted); text-align: center; line-height: 1.4;">"–ö–∞–∂–¥—ã–π –∫–∞–¥—Ä —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é"</div>
                                    </div>
                                </div>
                                <select id="camera-3" class="slot-select" onchange="updatePreview(3)" style="width: 100%; padding: 0.75rem; background: var(--panel); border: 1px solid var(--stroke); border-radius: 8px; color: var(--text); font-size: 14px;">
                                    <option value="">–í—ã–±–µ—Ä–∏ –∫–∞–º–µ—Ä—É...</option>
                                    <option value="trv900">TRV900 (—Ç—ë–ø–ª–æ/–Ω–æ—Å—Ç–∞–ª—å–≥–∏—è)</option>
                                    <option value="dvx100">DVX100 (24p/–¥—Ä–∞–º–∞)</option>
                                    <option value="gopro">GoPro (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ)</option>
                                </select>
                            </div>
                        </div>
                    </div>

                    <div class="minigame-buttons">
                        <button class="btn-primary" onclick="generateCertificate()">–ü–æ–ª—É—á–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç</button>
                        <button class="btn-secondary" onclick="switchSection('case')">–ù–∞–∑–∞–¥ –∫ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é</button>
                    </div>

                    <div id="poster-container" style="margin-top: 2rem; display: none;">
                        <h3 style="color: var(--accent); margin-bottom: 1rem; text-align: center;">üéì –¢–≤–æ–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–µ—Ç–µ–∫—Ç–∏–≤–∞</h3>
                        <div id="poster-output"></div>
                        <button class="btn-primary" style="margin-top: 1rem; width: 100%;" onclick="saveCertificate()">üì• –°–∫–∞—á–∞—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç</button>
                    </div>
                </div>
            </section>

            <!-- ABOUT -->
            <section id="about" class="section">
                <div class="about-container">
                    <div class="about-section">
                        <h2>–û –ø—Ä–æ–µ–∫—Ç–µ</h2>
                        <p><strong>AFilm</strong> ‚Äî —ç—Ç–æ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–µ—Ç–µ–∫—Ç–∏–≤–Ω–∞—è –∏–≥—Ä–∞, –∫–æ—Ç–æ—Ä–∞—è –∏—Å—Å–ª–µ–¥—É–µ—Ç ¬´—è–∑—ã–∫ –∫–∞–º–µ—Ä¬ª. –ú—ã –≤–µ—Ä–∏–º, —á—Ç–æ –∫–∞–∂–¥–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ —Å—ä—ë–º–∫–∏ –∏–º–µ–µ—Ç —Å–≤–æ–π –≤–∏–∑—É–∞–ª—å–Ω—ã–π –ø–æ—á–µ—Ä–∫, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ –∏ –≤—Ä–µ–º–µ–Ω–∏.</p>
                    </div>

                    <div class="about-section">
                        <h2>–ö–æ–Ω—Ü–µ–ø—Ü–∏—è</h2>
                        <p>–ò–≥—Ä–∞ –ø–æ–≥—Ä—É–∂–∞–µ—Ç –≤–∞—Å –≤ –º–∏—Ä –ª—é–±–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–∏–Ω–æ, –≥–¥–µ –∫–∞–∂–¥–∞—è –∫–∞–º–µ—Ä–∞ ‚Äî —ç—Ç–æ —É–ª–∏–∫–∞. –û—Ç —Ç—ë–ø–ª—ã—Ö —Ç–æ–Ω–æ–≤ —Ä–∞–Ω–Ω–µ–π —Ü–∏—Ñ—Ä–æ–≤–æ–π —Ç–µ—Ö–Ω–∏–∫–∏ –¥–æ —Ä–µ–∑–∫–æ–≥–æ –∫–∞—á–µ—Å—Ç–≤–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–º–∞—Ä—Ç—Ñ–æ–Ω–æ–≤, –≤—ã –Ω–∞—É—á–∏—Ç–µ—Å—å —á–∏—Ç–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é —á–µ—Ä–µ–∑ –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏ –∑–∞–ø–∏—Å–∏.</p>
                    </div>

                    <!-- Team Photos -->
                    <div class="about-section">
                        <h2>–ó–∞ –∫–∞–¥—Ä–æ–º</h2>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem; margin-top: 1.5rem;">
                            <div style="position: relative; overflow: hidden; border-radius: 12px; box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3); transition: transform 0.3s ease, box-shadow 0.3s ease;" onmouseover="this.style.transform='scale(1.02)'; this.style.boxShadow='0 12px 40px rgba(245, 158, 87, 0.4)';" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 8px 30px rgba(0, 0, 0, 0.3)';">
                                <img src="team-photo-1.jpg" alt="–°—ä—ë–º–∫–∞ –≤ —Å—Ç—É–¥–∏–∏" style="width: 100%; height: auto; display: block; filter: grayscale(100%) contrast(1.1);">
                                <div style="position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(to top, rgba(28, 27, 26, 0.95) 0%, transparent 100%); padding: 1.5rem 1rem 1rem; color: #ECEAE7;">
                                    <div style="font-size: 14px; font-weight: 700; color: #F59E57; margin-bottom: 0.25rem;">–í –ø—Ä–æ—Ü–µ—Å—Å–µ —Å—ä—ë–º–∫–∏</div>
                                    <div style="font-size: 12px; color: #A8A29E;">–ö–∞–∂–¥—ã–π –∫–∞–¥—Ä ‚Äî —Ä–µ–∑—É–ª—å—Ç–∞—Ç —Ä–∞–±–æ—Ç—ã –∫–æ–º–∞–Ω–¥—ã</div>
                                </div>
                            </div>
                            
                            <div style="position: relative; overflow: hidden; border-radius: 12px; box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3); transition: transform 0.3s ease, box-shadow 0.3s ease;" onmouseover="this.style.transform='scale(1.02)'; this.style.boxShadow='0 12px 40px rgba(245, 158, 87, 0.4)';" onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 8px 30px rgba(0, 0, 0, 0.3)';">
                                <img src="team-photo-2.jpg" alt="–û–±—Å—É–∂–¥–µ–Ω–∏–µ –≤ —Å—Ç—É–¥–∏–∏" style="width: 100%; height: auto; display: block; filter: grayscale(100%) contrast(1.1);">
                                <div style="position: absolute; bottom: 0; left: 0; right: 0; background: linear-gradient(to top, rgba(28, 27, 26, 0.95) 0%, transparent 100%); padding: 1.5rem 1rem 1rem; color: #ECEAE7;">
                                    <div style="font-size: 14px; font-weight: 700; color: #F59E57; margin-bottom: 0.25rem;">–û–±—Å—É–∂–¥–µ–Ω–∏–µ –∏–¥–µ–π</div>
                                    <div style="font-size: 12px; color: #A8A29E;">–ì–¥–µ —Ä–æ–∂–¥–∞—é—Ç—Å—è –∏—Å—Ç–æ—Ä–∏–∏</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="about-section">
                        <h2>–ö–æ–º–∞–Ω–¥–∞</h2>
                        <div class="team-list">
                            <div class="team-member">
                                <div class="team-member-name">–ê–Ω–∞—Å—Ç–∞—Å–∏—è</div>
                                <div class="team-member-role">–†–µ–∂–∏—Å—Å—ë—Ä</div>
                            </div>
                            <div class="team-member">
                                <div class="team-member-name">–ê–Ω–¥—Ä–µ–π</div>
                                <div class="team-member-role">–ü—Ä–æ–¥—é—Å–µ—Ä</div>
                            </div>
                            <div class="team-member">
                                <div class="team-member-name">–î–∏–º–∞</div>
                                <div class="team-member-role">–°—Ü–µ–Ω–∞—Ä–∏—Å—Ç</div>
                            </div>
                            <div class="team-member">
                                <div class="team-member-name">–õ–∏–∑–∞</div>
                                <div class="team-member-role">–í–∏–¥–µ–æ–º–æ–Ω—Ç–∞–∂</div>
                            </div>
                        </div>
                    </div>

                    <div class="about-section">
                        <h2>–ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏</h2>
                        <p>–°–ø–∞—Å–∏–±–æ –≤—Å–µ–º, –∫—Ç–æ –≤–µ—Ä–∏—Ç –≤ —Å–∏–ª—É –∫–∏–Ω–æ –∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏. –°–ø–∞—Å–∏–±–æ —Ç–µ–º, –∫—Ç–æ —Ç—Ä—É–¥–∏—Ç—Å—è –≤ —Ç–µ–Ω–∏ —Å—Ç—É–¥–∏–π –∏ –º–æ–Ω—Ç–∞–∂–Ω—ã—Ö. –°–ø–∞—Å–∏–±–æ –∫–∞–º–µ—Ä–∞–º, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç –∏—Å—Ç–æ—Ä–∏–∏.</p>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- MODAL -->
    <div id="modal" class="modal">
        <div class="modal-content">
            <button class="modal-close" onclick="closeModal()">√ó</button>
            <div id="modal-body"></div>
        </div>
    </div>

    <!-- TRAILER MODAL -->
    <div id="trailerModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9); z-index: 10000; align-items: center; justify-content: center;">
        <div style="background: linear-gradient(135deg, #1C1B1A 0%, #2A2927 100%); border-radius: 20px; padding: 3rem; max-width: 600px; width: 90%; position: relative; border: 3px solid #F59E57; box-shadow: 0 20px 60px rgba(245, 158, 87, 0.3);">
            <button onclick="closeTrailerModal()" style="position: absolute; top: 1rem; right: 1rem; background: transparent; border: none; color: #F59E57; font-size: 32px; cursor: pointer; line-height: 1; padding: 0; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; transition: all 0.3s;">√ó</button>
            
            <div style="text-align: center;">
                <!-- –ê–≤–∞—Ç–∞—Ä –ü–∏–∫—Å–∏ -->
                <div style="width: 120px; height: 120px; margin: 0 auto 1.5rem; background: linear-gradient(135deg, #F59E57 0%, #E8945A 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; font-size: 64px; box-shadow: 0 8px 30px rgba(245, 158, 87, 0.4);">
                    ü§ñ
                </div>

                <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
                <h2 style="color: #F59E57; font-size: 28px; margin-bottom: 1rem; font-weight: 700;">–ü—Ä–∏–≤–µ—Ç! –Ø –ü–∏–∫—Å–∏ üëã</h2>
                
                <!-- –¢–µ–∫—Å—Ç -->
                <p style="color: #ECEAE7; font-size: 16px; line-height: 1.8; margin-bottom: 1.5rem;">
                    –¢—Ä–µ–π–ª–µ—Ä –µ—â—ë –≤ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ ‚Äî –º—ã —Å–Ω–∏–º–∞–µ–º –º–∞—Ç–µ—Ä–∏–∞–ª! üé¨
                </p>

                <div style="background: linear-gradient(135deg, rgba(245, 158, 87, 0.1) 0%, rgba(245, 158, 87, 0.05) 100%); border-radius: 12px; padding: 1.5rem; border-left: 4px solid #F59E57; margin-bottom: 1.5rem;">
                    <p style="color: #A8A29E; font-size: 14px; line-height: 1.8; margin: 0;">
                        <strong style="color: #F59E57; display: block; margin-bottom: 0.5rem;">–ê –ø–æ–∫–∞:</strong>
                        ‚Ä¢ –ù–∞—á–Ω–∏ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –∏ —Ä–∞—Å–∫—Ä–æ–π –¥–µ–ª–æ<br>
                        ‚Ä¢ –ò–∑—É—á–∏ –∫–∞–º–µ—Ä—ã –≤ –±–∞–∑–µ –∑–Ω–∞–Ω–∏–π<br>
                        ‚Ä¢ –ü–æ–ª—É—á–∏ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–µ—Ç–µ–∫—Ç–∏–≤–∞
                    </p>
                </div>

                <!-- –¶–∏—Ç–∞—Ç–∞ -->
                <div style="font-style: italic; color: #A8A29E; font-size: 14px; margin-bottom: 1.5rem;">
                    "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç –∏—Å—Ç–æ—Ä–∏–∏.<br>–õ—é–¥–∏ —Å–æ–∑–¥–∞—é—Ç –∏—Å–∫—É—Å—Å—Ç–≤–æ."
                </div>

                <!-- –ö–Ω–æ–ø–∫–∞ -->
                <button onclick="closeTrailerModal(); switchSection('case');" style="background: linear-gradient(135deg, #F59E57 0%, #E8945A 100%); color: white; padding: 14px 40px; border-radius: 50px; border: none; font-weight: 700; font-size: 16px; cursor: pointer; transition: all 0.3s; box-shadow: 0 6px 20px rgba(245, 158, 87, 0.4);">
                    –ù–∞—á–∞—Ç—å —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ üîç
                </button>
            </div>
        </div>
    </div>

    <script>
        // ========== DATA ==========
       const CAMERAS = [
    {
        id: "canon-vixia",
        name: "Canon Vixia HF G10",
        maker: "Canon",
        year: 2011,
        typeTag: "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –≤–∏–¥–µ–æ–∫–∞–º–µ—Ä–∞",
        resolution: "1920√ó1080 (Full HD)",
        sensor: "1/3-–¥—é–π–º–æ–≤–∞—è 3CMOS",
        codec: "AVCHD",
        signature: "–†—É—á–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ, 10x –∑—É–º, –ø–æ–ø—É–ª—è—Ä–Ω–∞ —Å—Ä–µ–¥–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞–ª–∏—Å—Ç–æ–≤",
        story: "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞ –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π –∏ –Ω–µ–±–æ–ª—å—à–∏—Ö —Å—Ç—É–¥–∏–π",
        filterColor: "sepia(0.5) saturate(1.2)",
        emoji: "üé•",
        image: "images/Canon_ixiaHFG10.jpg"
    },
    {
        id: "canon-xl1",
        name: "Canon XL1",
        maker: "Canon",
        year: 1998,
        typeTag: "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞",
        resolution: "720√ó480 (SD, MiniDV)",
        sensor: "3√óCCD",
        codec: "DV",
        signature: "–õ–µ–≥–µ–Ω–¥–∞—Ä–Ω–∞—è —Ç—Ä—ë—Ö–º–∞—Ç—Ä–∏—á–Ω–∞—è –∫–∞–º–µ—Ä–∞ –∫–æ–Ω—Ü–∞ 90-—Ö",
        story: "–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞—Å—å –¥–ª—è —Å—ä—ë–º–∫–∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–≥–æ –∫–∏–Ω–æ",
        filterColor: "sepia(0.4) saturate(1.2)",
        emoji: "üé¨",
        image: "images/Canon_XL1.jpg"
    },
    {
        id: "canon-5d",
        name: "Canon EOS 5D Mark II",
        maker: "Canon",
        year: 2008,
        typeTag: "DSLR –∫–∞–º–µ—Ä–∞",
        resolution: "1920√ó1080 (Full HD)",
        sensor: "Full Frame 21.1 MP",
        codec: "H.264",
        signature: "–†–µ–≤–æ–ª—é—Ü–∏—è –≤ –≤–∏–¥–µ–æ–≥—Ä–∞—Ñ–∏–∏ ‚Äî –∑–µ—Ä–∫–∞–ª–∫–∞ —Å –≤–∏–¥–µ–æ",
        story: "–û—Ç–∫—Ä—ã–ª–∞ —ç—Ä—É DSLR-–∫–∏–Ω–æ –∏ –º–∞–ª–æ–±—é–¥–∂–µ—Ç–Ω–æ–≥–æ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–≥–æ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞",
        filterColor: "sepia(0.3) saturate(1.3)",
        emoji: "üì∑",
        image: "images/CanonEOS5DMarkII.jpg"
    },
    {
        id: "gopro-hero3",
        name: "GoPro Hero3",
        maker: "GoPro",
        year: 2012,
        typeTag: "–≠–∫—à–Ω-–∫–∞–º–µ—Ä–∞",
        resolution: "1920√ó1080 / 2.7K",
        sensor: "1/2.3-–¥—é–π–º–æ–≤–∞—è CMOS",
        codec: "H.264",
        signature: "–ö–æ–º–ø–∞–∫—Ç–Ω–∞—è —ç–∫—à–Ω-–∫–∞–º–µ—Ä–∞ –¥–ª—è POV-—Å—ä—ë–º–∫–∏",
        story: "–ò–∑–º–µ–Ω–∏–ª–∞ –ø–æ–¥—Ö–æ–¥ –∫ —Å—ä—ë–º–∫–µ —ç–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã—Ö —Å—Ü–µ–Ω",
        filterColor: "saturate(1.5)",
        emoji: "üèÑ",
        image: "images/GoPro_Hero3.jpg"
    },
    {
        id: "panasonic-dvx",
        name: "Panasonic AG-DVX100",
        maker: "Panasonic",
        year: 2002,
        typeTag: "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞",
        resolution: "720√ó480 (SD, MiniDV)",
        sensor: "3√óCCD",
        codec: "DV",
        signature: "–ü–µ—Ä–≤–∞—è –¥–æ—Å—Ç—É–ø–Ω–∞—è –∫–∞–º–µ—Ä–∞ —Å 24p ‚Äî –∫–∏–Ω–µ–º–∞—Ç–æ–≥—Ä–∞—Ñ–∏—á–µ—Å–∫–∞—è —á–∞—Å—Ç–æ—Ç–∞",
        story: "–í—ã–±–æ—Ä –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Ä–µ–∂–∏—Å—Å—ë—Ä–æ–≤ –Ω–∞—á–∞–ª–∞ 2000-—Ö",
        filterColor: "sepia(0.5) saturate(1.1)",
        emoji: "üéûÔ∏è",
        image: "images/Panasonic_AG_DVX100.jpg"
    },
    {
        id: "sony-hc1",
        name: "Sony DCR-HC1",
        maker: "Sony",
        year: 2004,
        typeTag: "HDV –∫–∞–º–µ—Ä–∞",
        resolution: "1440√ó1080 (HDV)",
        sensor: "1/3-–¥—é–π–º–æ–≤–∞—è CMOS",
        codec: "HDV (MPEG-2)",
        signature: "–û–¥–Ω–∞ –∏–∑ –ø–µ—Ä–≤—ã—Ö –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∏—Ö HD-–∫–∞–º–µ—Ä",
        story: "–°–¥–µ–ª–∞–ª–∞ HD-—Å—ä—ë–º–∫—É –¥–æ—Å—Ç—É–ø–Ω–æ–π –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π",
        filterColor: "sepia(0.4) saturate(1.2)",
        emoji: "üìπ",
        image: "images/Sony_DCR_HC1.jpg"
    },
    {
        id: "sony-trv900",
        name: "Sony DCR-TRV900",
        maker: "Sony",
        year: 1998,
        typeTag: "–†–∞–Ω–Ω—è—è —Ü–∏—Ñ—Ä–æ–≤–∞—è",
        resolution: "720√ó480 (SD, MiniDV)",
        sensor: "3√óCCD",
        codec: "DV",
        signature: "–¢—ë–ø–ª–∞—è –º—è–≥–∫–∞—è –∫–∞—Ä—Ç–∏–Ω–∫–∞, –Ω–æ—Å—Ç–∞–ª—å–≥–∏—á–µ—Å–∫–∞—è –ø–∞–ª–∏—Ç—Ä–∞",
        story: "–ü–µ—Ä–≤–∞—è –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—å—Å–∫–∞—è 3CCD —Å –º—è–≥–∫–æ–π —Ü–≤–µ—Ç–æ–ø–µ—Ä–µ–¥–∞—á–µ–π; –∏–¥–µ–∞–ª—å–Ω–∞ –¥–ª—è –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–º–µ–Ω—Ç–æ–≤ —Å —É—é—Ç–Ω–æ–π, –≤–∏–Ω—Ç–∞–∂–Ω–æ–π —ç—Å—Ç–µ—Ç–∏–∫–æ–π",
        filterColor: "sepia(0.4) saturate(1.2)",
        emoji: "üìº",
        image: "images/Sony_DCR_TRV900.jpg"
    },
    {
        id: "sony-sr85",
        name: "Sony Handycam DCR-SR85",
        maker: "Sony",
        year: 2008,
        typeTag: "HDD Camcorder",
        resolution: "1920√ó1080 (Full HD)",
        sensor: "1/5.8-–¥—é–π–º–æ–≤–∞—è CMOS",
        codec: "MPEG-4 AVC/H.264",
        signature: "–ö–∞–º–µ—Ä–∞ —Å–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –∂—ë—Å—Ç–∫–∏–º –¥–∏—Å–∫–æ–º –Ω–∞ 80 –ì–ë",
        story: "–£–¥–æ–±–Ω–∞ –¥–ª—è –¥–ª–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—ä—ë–º–æ–∫ –±–µ–∑ —Å–º–µ–Ω—ã –Ω–æ—Å–∏—Ç–µ–ª—è",
        filterColor: "saturate(1.1)",
        emoji: "üíæ",
        image: "images/Sony_Handycam_DCR_SR85.jpg"
    }
];

        const STORY = {
            acts: [
                {
                    id: "act0",
                    title: "–ü—Ä–æ–ª–æ–≥",
                    scenes: [
                        {
                            id: "s_prologue",
                            title: "–ù–æ—á–Ω–∞—è —Å—Ç—É–¥–∏—è",
                            text: "–ü–æ–ª—É–º—Ä–∞–∫, –∫–∞—Å—Å–µ—Ç—ã —Ä–∞–∑–±—Ä–æ—Å–∞–Ω—ã –ø–æ —Å—Ç–æ–ª–∞–º, –≤ —É–≥–ª—É —Å–ª—ã—à–Ω—ã —É—Å—Ç–∞–ª—ã–µ –≥–æ–ª–æ—Å–∞. –ù–∞ —Å—Ç–µ–Ω–µ –≤–∏—Å—è—Ç —à—Ç–∞—Ç–∏–≤—ã –∏ –ø—Ä–æ–≤–æ–¥–∞. –ù–æ—á—å. –£—Ç—Ä–æ–º –¥–µ—Ç–µ–∫—Ç–∏–≤ –ø–æ–ª—É—á–∏—Ç –∑–≤–æ–Ω–æ–∫: –ø—Ä–æ–ø–∞–ª –≤—Ç–æ—Ä–æ–π —Ä–µ–∂–∏—Å—Å—ë—Ä –û–ª–µ–≥ –§–æ–∫–∏–Ω. –í —Å—Ç—É–¥–∏–∏ –Ω–∞–π–¥–µ–Ω–∞ —Å—Ç—Ä–∞–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å –Ω–∞ —Å—Ç–∞—Ä–æ–π –∫–∞—Å—Å–µ—Ç–µ.",
                            act: "–ü—Ä–æ–ª–æ–≥",
                            timecode: "00:00:12:10",
                            camera: "TRV900",
                            pixi: "–ü—Ä–∏–≤–µ—Ç! –Ø –ü–∏–∫—Å–∏, —Ç–≤–æ–π –ø–æ–º–æ—â–Ω–∏–∫. –Ø –ø–æ–º–æ–≥—É —Ç–µ–±–µ —á–∏—Ç–∞—Ç—å —è–∑—ã–∫ –∫–∞–º–µ—Ä. –ö–∞–∂–¥—ã–π –≤–∏–¥–µ–æ–∞–ø–ø–∞—Ä–∞—Ç —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é. –ù–∞—á–Ω—ë–º?",
                            unlocks: ["ev_case_opened", "ev_meet_pixi"],
                            choices: [
                                { text: "–ù–∞—á–∞—Ç—å —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ", next: "s_meet_director" },
                                { text: "–£–∑–Ω–∞—Ç—å –æ –∫–∞–º–µ—Ä–∞—Ö", next: "s_prologue_learn" }
                            ]
                        },
                        {
                            id: "s_prologue_learn",
                            title: "–ù–µ–º–Ω–æ–≥–æ –æ –∫–∞–º–µ—Ä–∞—Ö",
                            text: "–ü–∏–∫—Å–∏ –æ–±—ä—è—Å–Ω—è–µ—Ç: ¬´–í–∏–¥–∏—à—å –ª–∏, –¥–µ—Ç–µ–∫—Ç–∏–≤, –∫–∞–∂–¥–∞—è –∫–∞–º–µ—Ä–∞ ‚Äî —ç—Ç–æ –º–∞—à–∏–Ω–∞ –≤–æ—Å–ø—Ä–∏—è—Ç–∏—è. –£ –Ω–µ—ë –µ—Å—Ç—å —Å–µ–Ω—Å–æ—Ä, –∫–æ—Ç–æ—Ä—ã–π –≤–∏–¥–∏—Ç –º–∏—Ä –ø–æ-—Å–≤–æ–µ–º—É. –û–¥–Ω–∞ –∫–∞–º–µ—Ä–∞ –≤–∏–¥–∏—Ç —Ç–µ–ø–ª–æ, –¥—Ä—É–≥–∞—è ‚Äî —Ö–æ–ª–æ–¥. –û–¥–Ω–∞ –ª–æ–≤–∏—Ç —Å–≤–µ—Ç –±—ã—Å—Ç—Ä–æ, –¥—Ä—É–≥–∞—è ‚Äî –º–µ–¥–ª–µ–Ω–Ω–æ. –ò —ç—Ç–æ –≤—Å—ë –≤–∏–¥–Ω–æ –Ω–∞ –≤–∏–¥–µ–æ!¬ª",
                            act: "–ü—Ä–æ–ª–æ–≥",
                            pixi: "–¢—Ä–∏ —Ç–∏–ø–∞ —Å–µ–Ω—Å–æ—Ä–æ–≤: CCD (—Å—Ç–∞—Ä—ã–π, —Ç—ë–ø–ª—ã–π), CMOS (–Ω–æ–≤—ã–π, —á–µ—Ç–∫–∏–π), –∏ MiniDV –∫–∞—Å—Å–µ—Ç–∞ vs HDV vs AVCHD –∫–æ–¥–µ–∫–∏. –ì–æ—Ç–æ–≤ –Ω–∞—á–∞—Ç—å?",
                            unlocks: ["ev_learn_cameras"],
                            choices: [
                                { text: "–ì–æ—Ç–æ–≤!", next: "s_meet_director" }
                            ]
                        }
                    ]
                },
                {
                    id: "act1",
                    title: "–ü–æ–≥—Ä—É–∂–µ–Ω–∏–µ",
                    scenes: [
                        {
                            id: "s_meet_director",
                            title: "–†–µ–∂–∏—Å—Å—ë—Ä –∏ –ü–∏–∫—Å–∏",
                            text: "–†–µ–∂–∏—Å—Å—ë—Ä –ï–ª–µ–Ω–∞ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç –¥–µ—Ç–µ–∫—Ç–∏–≤–∞ –≤ —Å—Ç—É–¥–∏–∏. –û–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–∫–∏ —Å –∫–∞–º–µ—Ä–∞–º–∏: ¬´–í–æ—Ç –≤–∏–¥–∏—à—å, –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º –∫–∞–º–µ—Ä—ã –∫–∞–∫ –ø–µ—Ä—Å–æ–Ω–∞–∂–µ–π. –ö–∞–∂–¥–∞—è —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç —Å–≤–æ—é —ç–ø–æ—Ö—É. Sony TRV900 ‚Äî —ç—Ç–æ 90-–µ, –≤–∏–Ω—Ç–∞–∂–Ω–æ–µ —Ç–µ–ø–ª–æ. Canon XL1 ‚Äî –¥–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Ö–æ–ª–æ–¥–Ω–æ—Å—Ç—å. Panasonic DVX100 ‚Äî —Ä–µ–≤–æ–ª—é—Ü–∏—è –∫–∏–Ω–æ!¬ª –ü–∏–∫—Å–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç: ¬´–°–µ–Ω—Å–æ—Ä—ã –ø–æ–º–æ–≥–∞—é—Ç –Ω–∞–º –ø–æ–Ω—è—Ç—å, –∫–∞–∫ —Å–Ω–∏–º–∞–ª–∏.¬ª",
                            act: "–ê–∫—Ç I",
                            pixi: "3CCD –∏ 1CCD ‚Äî —Ä–∞–∑–Ω–∏—Ü–∞ –≤–∏–¥–Ω–∞! 3CCD –∑–Ω–∞—á–∏—Ç —Ç—Ä–∏ —Å–µ–Ω—Å–æ—Ä–∞ –¥–ª—è RGB. –≠—Ç–æ –¥–∞—ë—Ç –±–æ–≥–∞—Ç—ã–µ —Ü–≤–µ—Ç–∞. 1CCD ‚Äî –±—é–¥–∂–µ—Ç–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç, –Ω–æ —á–µ—Å—Ç–Ω—ã–π.",
                            camera: "xl1",
                            unlocks: ["ev_meet_director"],
                            camerasMentioned: ["trv900", "xl1", "dvx100"],
                            choices: [
                                { text: "–°–ø—Ä–æ—Å–∏—Ç—å –æ –ø—Ä–æ–ø–∞–∂–µ", next: "s_missing_person" },
                                { text: "–ü–µ—Ä–µ–π—Ç–∏ –∫ –±–∞–∑–µ –∫–∞–º–µ—Ä üìπ", next: "s_camera_database_info" }
                            ]
                        },
                        {
                            id: "s_camera_database_info",
                            title: "–ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π –æ –∫–∞–º–µ—Ä–∞—Ö",
                            text: "–ü–∏–∫—Å–∏ –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∏–∑—É—á–∏—Ç—å –±–∞–∑—É –∫–∞–º–µ—Ä —Å—Ç—É–¥–∏–∏. ¬´–í –≤–µ—Ä—Ö–Ω–µ–º –º–µ–Ω—é –µ—Å—Ç—å —Ä–∞–∑–¥–µ–ª '–ë–∞–∑–∞ –∫–∞–º–µ—Ä' ‚Äî —Ç–∞–º –ø–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–∞–∂–¥–æ–π –º–æ–¥–µ–ª–∏: —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏, –∏—Å—Ç–æ—Ä–∏—è, –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –≠—Ç–æ –ø–æ–º–æ–∂–µ—Ç —Ç–µ–±–µ –ª—É—á—à–µ –ø–æ–Ω–∏–º–∞—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–π —è–∑—ã–∫ –∫–∞–∂–¥–æ–π –∫–∞–º–µ—Ä—ã¬ª. –î–µ—Ç–µ–∫—Ç–∏–≤ –º–æ–∂–µ—Ç –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é –∏–ª–∏ –ø–µ—Ä–µ–π—Ç–∏ –∫ –∏–∑—É—á–µ–Ω–∏—é –∫–∞–º–µ—Ä.",
                            act: "–ê–∫—Ç I",
                            pixi: "–ö–∞–º–µ—Ä—ã ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞. –ö–∞–∂–¥–∞—è –∏–º–µ–µ—Ç —Å–≤–æ–π —Ö–∞—Ä–∞–∫—Ç–µ—Ä, —Å–≤–æ–π –ø–æ—á–µ—Ä–∫. –ò–∑—É—á–∏ –∏—Ö, –∏ —Ç—ã —Å–º–æ–∂–µ—à—å —á–∏—Ç–∞—Ç—å –≤–∏–∑—É–∞–ª—å–Ω—ã–µ —É–ª–∏–∫–∏!",
                            unlocks: ["ev_database_discovered"],
                            choices: [
                                { text: "üìö –û—Ç–∫—Ä—ã—Ç—å –±–∞–∑—É –∫–∞–º–µ—Ä", next: null, action: "openCameraDatabase" },
                                { text: "–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ", next: "s_missing_person" }
                            ]
                        },
                        {
                            id: "s_missing_person",
                            title: "–û –ø—Ä–æ–ø–∞–∂–µ",
                            text: "¬´–û–ª–µ–≥ –∏—Å—á–µ–∑ —Ç—Ä–∏ –¥–Ω—è –Ω–∞–∑–∞–¥,¬ª ‚Äî –≥–æ–≤–æ—Ä–∏—Ç –ï–ª–µ–Ω–∞. ¬´–í –ø–æ—Å–ª–µ–¥–Ω–∏–π —Ä–∞–∑ –µ–≥–æ –≤–∏–¥–µ–ª–∏ –≤–µ—á–µ—Ä–æ–º –Ω–∞ –º–æ–Ω—Ç–∞–∂–Ω–æ–π. –û–Ω —Ä–∞–±–æ—Ç–∞–ª —Å –∫–∞–∫–æ–π-—Ç–æ –∫–∞—Å—Å–µ—Ç–æ–π –æ—Ç —Å—Ç–∞—Ä–æ–π Sony. –ù–∞ –Ω–µ–π –∑–∞–ø–∏—Å—å, –∫–æ—Ç–æ—Ä–∞—è –Ω–∞—Å –æ—á–µ–Ω—å –≤—Å—Ç—Ä–µ–≤–æ–∂–∏–ª–∞.¬ª –î–µ—Ç–µ–∫—Ç–∏–≤ –±–µ—Ä—ë—Ç –∫–∞—Å—Å–µ—Ç—É. –ù–∞ –Ω–µ–π –ø–æ–º–µ—Ç–∫–∞: ¬´–ö–∞—Å—Å–µ—Ç–∞ #7, 00:12‚Äì00:45.¬ª",
                            act: "–ê–∫—Ç I",
                            pixi: "DV –∫–∞—Å—Å–µ—Ç–∞! –≠—Ç–æ MiniDV —Ñ–æ—Ä–º–∞—Ç. –î–∞—Ç—á–∏–∫ –≤—Ä–µ–º–µ–Ω–∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Ä–µ–º—è –∑–∞–ø–∏—Å–∏. –°—Ç—Ä–∞–Ω–Ω–æ, —á—Ç–æ –∏–º–µ–Ω–Ω–æ —ç—Ç–∞ –∫–∞—Å—Å–µ—Ç–∞?",
                            camera: "trv900",
                            unlocks: ["ev_mysterious_tape"],
                            choices: [
                                { text: "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞—Å—Å–µ—Ç—É", next: "s_tape_watching" },
                                { text: "–î–æ–ø—Ä–æ—Å–∏—Ç—å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤", next: "s_interview_assistants" }
                            ]
                        },
                        {
                            id: "s_tape_watching",
                            title: "–ü—Ä–æ—Å–º–æ—Ç—Ä –∫–∞—Å—Å–µ—Ç—ã",
                            text: "–ù–∞ —ç–∫—Ä–∞–Ω–µ –º–æ–Ω–∏—å—Ç–æ—Ä–∞ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è –∫–∞—Ä—Ç–∏–Ω–∞: —Å—Ç—É–¥–∏—è, –æ–≥–Ω–∏, —Ä–µ–∂–∏—Å—Å—ë—Ä –æ–±—ä—è—Å–Ω—è–µ—Ç —á—Ç–æ-—Ç–æ –∞–∫—Ç—ë—Ä–∞–º. –ù–æ –∫–∞—Ä—Ç–∏–Ω–∫–∞ –¥—ë—Ä–≥–∞–µ—Ç—Å—è, –∫–∞—á–µ—Å—Ç–≤–æ –Ω–∏–∑–∫–æ–µ ‚Äî —è–≤–Ω–æ —Å—Ç–∞—Ä–∞—è –∫–∞–º–µ—Ä–∞. –í —É–≥–ª—É –∫–∞–¥—Ä–∞ –≤–∏–¥–Ω–∞ —Ç–µ–Ω—å ‚Äî –∫—Ç–æ-—Ç–æ —Å–ø–æ—Ä–∏—Ç —Å –ø—Ä–æ–¥—é—Å–µ—Ä–æ–º. –ì–æ–ª–æ—Å–∞ –Ω–µ —Ä–∞–∑–±–æ—Ä—á–∏–≤—ã, –Ω–æ –∞—Ç–º–æ—Å—Ñ–µ—Ä–∞ –Ω–∞–ø—Ä—è–∂—ë–Ω–Ω–∞—è.",
                            video: "assets/footage.mp4",
                            act: "–ê–∫—Ç I",
                            pixi: "–≠—Ç–æ TRV900! –í–∏–¥–∏—à—å —Ç—ë–ø–ª—ã–µ —Ç–æ–Ω–∞, –º—è–≥–∫–∏–µ –ø–µ—Ä–µ—Ö–æ–¥—ã? 3CCD –Ω–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç. –ê –¥—Ä–æ–∂–∞–Ω–∏–µ ‚Äî —Ä—É—á–Ω–∞—è —Å—ä—ë–º–∫–∞. –†–µ–∂–∏—Å—Å—ë—Ä –¥–µ—Ä–∂–∏—Ç –∫–∞–º–µ—Ä—É?",
                            camera: "trv900",
                            unlocks: ["ev_tape_watched"],
                            choices: [
                                { text: "–û—Å–º–æ—Ç—Ä–µ—Ç—å –º–æ–Ω—Ç–∞–∂–Ω—É—é", next: "s_editing_room" },
                                { text: "–ü–æ–≥–æ–≤–æ—Ä–∏—Ç—å –æ —Ç–µ—Ö–Ω–∏–∫–∏", next: "s_about_gear" }
                            ]
                        },
                        {
                            id: "s_interview_assistants",
                            title: "–î–æ–ø—Ä–æ—Å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤",
                            text: "–î–≤–∞ –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞ –Ω–µ—Ä–≤–Ω–∏—á–∞—é—Ç. ¬´–û–ª–µ–≥ –±—ã–ª —Å—Ç—Ä–∞–Ω–Ω—ã–º –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–π –Ω–µ–¥–µ–ª–µ,¬ª –≥–æ–≤–æ—Ä–∏—Ç –ø–µ—Ä–≤—ã–π. ¬´–û–Ω –≤—Å—ë –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç–∞–ª —Å –≤–∏–¥–µ–æ–∞—Ä—Ö–∏–≤–æ–º, —Å–º–æ—Ç—Ä–µ–ª —Å—Ç–∞—Ä—ã–µ –∫–∞—Å—Å–µ—Ç—ã, –∏—Å–∫–∞–ª —á—Ç–æ-—Ç–æ.¬ª –í—Ç–æ—Ä–æ–π –¥–æ–±–∞–≤–ª—è–µ—Ç: ¬´–û–Ω –≥–æ–≤–æ—Ä–∏–ª –ø—Ä–æ '—è–∑—ã–∫ –∫–∞–º–µ—Ä'. –ú–æ–ª, –µ—Å–ª–∏ —Å–º–æ—Ç—Ä–µ—Ç—å –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ, –º–æ–∂–Ω–æ –ø–æ–Ω—è—Ç—å, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–æ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ.¬ª",
                            act: "–ê–∫—Ç I",
                            pixi: "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ! –Ø–∑—ã–∫ –∫–∞–º–µ—Ä ‚Äî —ç—Ç–æ –º–æ–π —è–∑—ã–∫! –ö–∞–∂–¥–∞—è –∫–∞–º–µ—Ä–∞ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–∏–Ω—É —á–µ—Ä–µ–∑ —Å–≤–æ–π –≤–∏–∑—É–∞–ª—å–Ω—ã–π –ø–æ—á–µ—Ä–∫.",
                            unlocks: ["ev_assistants_interviewed"],
                            choices: [
                                { text: "–í–µ—Ä–Ω—É—Ç—å—Å—è –≤ —Å—Ç—É–¥–∏—é", next: "s_studio_tour" },
                                { text: "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∏–¥–µ–æ–∞—Ä—Ö–∏–≤", next: "s_video_archive" }
                            ]
                        },
                        {
                            id: "s_about_gear",
                            title: "–û —Ç–µ—Ö–Ω–∏–∫–µ",
                            text: "–ï–ª–µ–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–æ–ª–∫–∏: ¬´DV –∫–∞—Å—Å–µ—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç 60 –º–∏–Ω—É—Ç, –∑–∞–ø–∏—Å—å –∏–¥—ë—Ç –Ω–∞ –º–∞–≥–Ω–∏—Ç–Ω—É—é –ª–µ–Ω—Ç—É. HDV –±–æ–ª–µ–µ –ø–ª–æ—Ç–Ω—ã–π, –∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –≤ MPEG2. AVCHD ‚Äî —ç—Ç–æ —É–∂–µ '—Ñ–∞–π–ª–æ–≤–∞—è' –ª–æ–≥–∏–∫–∞. –ù–æ —Å—É—Ç—å –æ–¥–Ω–∞: –∫–∞–∂–¥—ã–π —Ñ–æ—Ä–º–∞—Ç –∏–º–µ–µ—Ç —Å–≤–æ–π ¬´–∑–≤—É–∫¬ª –≤–∏–¥–µ–æ.¬ª –ü–∏–∫—Å–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç: ¬´Rolling shutter, –ø—Ä–æ–≥—Ä–µ—Å—Å–∏–≤, 24p ‚Äî –≤—Å—ë —ç—Ç–æ –æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ç–ø–µ—á–∞—Ç–æ–∫.¬ª",
                            act: "–ê–∫—Ç I",
                            pixi: "24p ‚Äî —ç—Ç–æ –∫–∏–Ω–æ—à–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç! 25 –∫–∞–¥—Ä–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É (–ï–≤—Ä–æ–ø–∞) vs 29.97 (–ê–º–µ—Ä–∏–∫–∞). DVX100 –ø–µ—Ä–≤–æ–π –ø—Ä–µ–¥–ª–æ–∂–∏–ª–∞ —ç—Ç–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è–º.",
                            unlocks: ["ev_tech_explained"],
                            choices: [
                                { text: "–û—Å–º–æ—Ç—Ä–µ—Ç—å –∫–∞—Å—Å–µ—Ç—ã", next: "s_tape_inventory" },
                                { text: "–î–≤–∏–≥–∞—Ç—å—Å—è –¥–∞–ª—å—à–µ", next: "s_editing_room" }
                            ]
                        }
                    ]
                },
                {
                    id: "act2",
                    title: "–°–ª–µ–¥ —á–µ—Ä–µ–∑ –∫–∞–º–µ—Ä—ã",
                    scenes: [
                        {
                            id: "s_editing_room",
                            title: "–ú–æ–Ω—Ç–∞–∂–Ω–∞—è –∫–æ–º–Ω–∞—Ç–∞",
                            text: "–ë–æ–ª—å—à–æ–π —Å—Ç–æ–ª, –º–æ–Ω–∏—å—Ç–æ—Ä—ã, —Å—Ç–æ–ø–∫–∏ –∫–∞—Å—Å–µ—Ç. –ù–∞ —Å—Ç–µ–Ω–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ: '–ü–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫ ‚Äî TRV900 —Å—Ü–µ–Ω—ã, –í—Ç–æ—Ä–Ω–∏–∫ ‚Äî Canon XL1 —Å—Ü–µ–Ω—ã, –°—Ä–µ–¥–∞ ‚Äî DVX100 —Å—Ü–µ–Ω—ã.' –ù–∞ –ø–æ–ª—É –ª–µ–∂–∏—Ç –∑–∞–ø–∏—Å–∫–∞ —Å –∞–¥—Ä–µ—Å–æ–º –∏ –≤—Ä–µ–º–µ–Ω–µ–º: '19:00, –∫–æ—Ä–∏–¥–æ—Ä 3.'",
                            act: "–ê–∫—Ç II",
                            pixi: "–•–∞! –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ –∫–∞–º–µ—Ä–∞–º. –≠—Ç–æ –Ω–µ–æ–±—ã—á–Ω–æ. –†–µ–∂–∏—Å—Å—ë—Ä –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ —Ä–∞–∑–¥–µ–ª–∏–ª–∞ —Å—Ü–µ–Ω—ã –ø–æ —Ç–∏–ø–∞–º –∫–∞–º–µ—Ä. –ü–æ—á–µ–º—É?",
                            unlocks: ["ev_schedule_found"],
                            choices: [
                                { text: "–ü–æ–π—Ç–∏ –ø–æ –∞–¥—Ä–µ—Å—É –∏–∑ –∑–∞–ø–∏—Å–∫–∏", next: "s_corridor_investigation" },
                                { text: "–°–ø—Ä–æ—Å–∏—Ç—å —Ä–µ–∂–∏—Å—Å—ë—Ä–∞", next: "s_ask_director" }
                            ]
                        },
                        {
                            id: "s_corridor_investigation",
                            title: "–ö–æ—Ä–∏–¥–æ—Ä –∏ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ",
                            text: "–î–µ—Ç–µ–∫—Ç–∏–≤ –∏–¥—ë—Ç –≤ –∫–æ—Ä–∏–¥–æ—Ä 3. –ù–∞ —Å—Ç–µ–Ω–µ –≤–∏–¥–µ–æ–∫–∞–º–µ—Ä–∞ –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è. –ù–∞ –ø–æ–ª—É –∫–∞–±–µ–ª—å. –ö–∞–∂–µ—Ç—Å—è, –∫—Ç–æ-—Ç–æ –ø—ã—Ç–∞–ª—Å—è —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è —Å –∫–∞–º–µ—Ä–æ–π. –ù–∞ —Å—Ç–µ–Ω–µ –æ—Ç–º–µ—Ç–∫–∞: '19:00 –û–ª–µ–≥ –≤—Ö–æ–¥–∏—Ç, 19:15 –û–ª–µ–≥ –≤—ã—Ö–æ–¥–∏—Ç ‚Äî –î–†–£–ì–û–ô.'",
                            act: "–ê–∫—Ç II",
                            pixi: "–°—Ç–æ–ø! –ù–∞ –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–∏, –≤–µ—Ä–æ—è—Ç–Ω–æ, –∑–∞–ø–∏—Å—å —Å –¥–µ—à—ë–≤–æ–π —Ü–∏—Ñ—Ä–æ–≤–æ–π –∫–∞–º–µ—Ä—ã. –ü–ª–æ—Ö–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ, –Ω–æ —ç—Ç–æ –¥–∞—Å—Ç –Ω–∞–º –ø–æ–¥—Å–∫–∞–∑–∫—É.",
                            camera: "gopro",
                            unlocks: ["ev_corridor_evidence"],
                            choices: [
                                { text: "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤–∏–¥–µ–æ —Å –∫–∞–º–µ—Ä –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è", next: "s_cctv_footage" },
                                { text: "–†–∞—Å—Å–ø—Ä–æ—Å–∏—Ç—å –æ—Ö—Ä–∞–Ω–Ω–∏–∫–∞", next: "s_guard_interview" }
                            ]
                        },
                        {
                            id: "s_cctv_footage",
                            title: "–í–∏–¥–µ–æ —Å –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è",
                            text: "–û—Ö—Ä–∞–Ω–Ω–∏–∫ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤–∏–¥–µ–æ. –†–∞–∑—Ä–µ—à–µ–Ω–∏–µ –Ω–∏–∑–∫–æ–µ, –¥–≤–∏–∂–µ–Ω–∏–µ –¥—ë—Ä–≥–∞–µ—Ç—Å—è (rolling shutter –≤ –¥–µ—à—ë–≤—ã—Ö –∫–∞–º–µ—Ä–∞—Ö). –í 19:00 –≤—Ö–æ–¥–∏—Ç —á–µ–ª–æ–≤–µ–∫, –ø–æ—Ö–æ–∂–∏–π –Ω–∞ –û–ª–µ–≥–∞. –í 19:15 –≤—ã—Ö–æ–¥–∏—Ç –ø–æ—Ö–æ–∂–∏–π —á–µ–ª–æ–≤–µ–∫, –Ω–æ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–∞–∫. –û–Ω –≤—ã—à–µ? –ò–ª–∏ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ —É–≥–æ–ª –∫–∞–º–µ—Ä—ã?",
                            act: "–ê–∫—Ç II",
                            pixi: "Rolling shutter! –≠—Ç–æ –∞—Ä—Ç–µ—Ñ–∞–∫—Ç CMOS —Å–µ–Ω—Å–æ—Ä–æ–≤. –î–µ—à—ë–≤—ã–µ –∫–∞–º–µ—Ä—ã —Å–∫–∞–Ω–∏—Ä—É—é—Ç –∫–∞–¥—Ä –ø–æ—Å—Ç—Ä–æ—á–Ω–æ, –Ω–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ. –ú–æ–∂–µ—Ç —Å–∫—Ä—ã–≤–∞—Ç—å –∏–ª–∏ –≤—ã—è–≤–ª—è—Ç—å –¥–µ—Ç–∞–ª–∏.",
                            camera: "hc1",
                            unlocks: ["ev_cctv_watched"],
                            choices: [
                                { text: "–ü–æ–ø—Ä–æ—Å–∏—Ç—å —ç–∫—Å–ø–µ—Ä—Ç–∏–∑—É –≤–∏–¥–µ–æ", next: "s_video_expertise" },
                                { text: "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥—Ä—É–≥–∏–µ –∑–∞–ø–∏—Å–∏", next: "s_other_cameras" }
                            ]
                        },
                        {
                            id: "s_ask_director",
                            title: "–†–∞–∑–≥–æ–≤–æ—Ä —Å —Ä–µ–∂–∏—Å—Å—ë—Ä–æ–º",
                            text: "¬´–†–∞—Å–ø–∏—Å–∞–Ω–∏–µ?¬ª –ï–ª–µ–Ω–∞ —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ –∑–∞–ø–∏—Å–∫—É. ¬´–î–∞, —è –Ω–∞–º–µ—Ä–µ–Ω–Ω–æ —Ä–∞–∑–¥–µ–ª–∏–ª–∞ —Å—Ü–µ–Ω—ã. –ö–∞–∂–¥–∞—è –∫–∞–º–µ—Ä–∞ –∏–º–µ–µ—Ç —Å–≤–æ–π '–ø–æ—á–µ—Ä–∫'. –Ø —Ö–æ—Ç–µ–ª–∞, —á—Ç–æ–±—ã –∑—Ä–∏—Ç–µ–ª–∏ –≤–∏–¥–µ–ª–∏ —ç–≤–æ–ª—é—Ü–∏—é —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏. –û—Ç TRV900 –∫ Canon –∫ DVX100 –∏ –¥–∞–ª—å—à–µ. –≠—Ç–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ —è–∑—ã–∫–∞ –∫–∏–Ω–æ —á–µ—Ä–µ–∑ –∫–∞–º–µ—Ä—ã.¬ª –û–Ω–∞ —É–ª—ã–±–∞–µ—Ç—Å—è –≥—Ä—É—Å—Ç–Ω–æ. ¬´–û–ª–µ–≥ —ç—Ç–æ –ø–æ–Ω—è–ª —Ä–∞–Ω—å—à–µ –≤—Å–µ—Ö. –ú–æ–∂–µ—Ç, —Å–ª–∏—à–∫–æ–º —Ö–æ—Ä–æ—à–æ.¬ª",
                            act: "–ê–∫—Ç II",
                            pixi: "–ò–Ω—Ç–µ—Ä–µ—Å–Ω–æ! –≠—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ —Ñ–∏–ª—å–º. –≠—Ç–æ –º–µ—Ç–∞–ø–æ–≤–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –æ —Å–∞–º–æ–π –ø—Ä–∏—Ä–æ–¥–µ –≤–∏–¥–µ–æ–∑–∞–ø–∏—Å–∏.",
                            unlocks: ["ev_director_confession"],
                            choices: [
                                { text: "–°–ø—Ä–æ—Å–∏—Ç—å –æ –¥–µ–Ω—å–≥–∞—Ö –∏ —Å—Ç—Ä–µ—Å—Å–µ", next: "s_about_pressure" },
                                { text: "–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞–º", next: "s_editing_room" }
                            ]
                        },
                        {
                            id: "s_video_expertise",
                            title: "–í–∏–¥–µ–æ—ç–∫—Å–ø–µ—Ä—Ç",
                            text: "–í–∏–¥–µ–æ—ç–∫—Å–ø–µ—Ä—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –∫–∞–¥—Ä—ã: ¬´Rolling shutter —Å–æ–∑–¥–∞—ë—Ç —ç—Ñ—Ñ–µ–∫—Ç '–∂–µ–ª–µ'. –ù–∞ —ç—Ç–æ–º –≤–∏–¥–µ–æ –º—ã –≤–∏–¥–∏–º —è–≤–Ω—ã–π rolling shutter, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–Ω—ã–π –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö –∫–∞–º–µ—Ä –∏–ª–∏ –¥–µ—à—ë–≤—ã—Ö —Ü–∏—Ñ—Ä–æ–≤—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤. –ù–æ –µ—Å—Ç—å —á—Ç–æ-—Ç–æ —Å—Ç—Ä–∞–Ω–Ω–æ–µ ‚Äî –≤ –º–æ–º–µ–Ω—Ç 19:15 –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∞—Ä—Ç–µ—Ñ–∞–∫—Ç, –∫–∞–∫ –±—É–¥—Ç–æ –∫–∞–¥—Ä –±—ã–ª –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω.¬ª",
                            act: "–ê–∫—Ç II",
                            pixi: "–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω? –ó–Ω–∞—á–∏—Ç, —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ. –ö—Ç–æ-—Ç–æ –º–∞–Ω–∏–ø—É–ª–∏—Ä–æ–≤–∞–ª –¥–æ–∫–∞–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞–º–∏!",
                            unlocks: ["ev_footage_edited"],
                            choices: [
                                { text: "–†–∞—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –º–æ–Ω—Ç–∞–∂", next: "s_investigate_editing" },
                                { text: "–í–µ—Ä–Ω—É—Ç—å—Å—è –∫ —Ä–µ–∂–∏—Å—Å—ë—Ä—É", next: "s_director_final" }
                            ]
                        },
                        {
                            id: "s_other_cameras",
                            title: "–î—Ä—É–≥–∏–µ –∫–∞–º–µ—Ä—ã –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è",
                            text: "–í –¥—Ä—É–≥–∏—Ö –º–µ—Å—Ç–∞—Ö —Å—Ç—É–¥–∏–∏ –µ—Å—Ç—å –µ—â—ë –∫–∞–º–µ—Ä—ã –≤–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏—è. –ù–∞ –æ–¥–Ω–æ–π –∏–∑ –Ω–∏—Ö –≤–∏–¥–Ω–∞ —Å—Ü–µ–Ω–∞: –û–ª–µ–≥ –≤—Ö–æ–¥–∏—Ç –≤ –∫–∞–±–∏–Ω–µ—Ç —Ä–µ–∂–∏—Å—Å—ë—Ä–∞. –ù–∞ –¥—Ä—É–≥–æ–π ‚Äî –û–ª–µ–≥ —Å –∫–æ—Ä–æ–±–∫–æ–π, –≤—ã—Ö–æ–¥—è—â–∏–π –∏–∑ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞. –ù–∞ —Ç—Ä–µ—Ç—å–µ–π ‚Äî —É–∂–µ –¥—Ä—É–≥–æ–π —á–µ–ª–æ–≤–µ–∫, –∏–¥—É—â–∏–π —Å –∫–æ—Ä–æ–±–∫–æ–π –∫ –≤—ã—Ö–æ–¥—É.",
                            act: "–ê–∫—Ç II",
                            camera: "gopro",
                            pixi: "–¢—Ä–∏ —Ä–∞–∑–Ω—ã–µ –∫–∞–º–µ—Ä—ã, —Ç—Ä–∏ —Ä–∞–∑–Ω—ã–µ –∏—Å—Ç–æ—Ä–∏–∏. –û–¥–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Ö–æ–¥, –¥—Ä—É–≥–∞—è ‚Äî –≤—ã—Ö–æ–¥ —Å –∫–æ—Ä–æ–±–∫–æ–π, —Ç—Ä–µ—Ç—å—è ‚Äî –≤—ã—Ö–æ–¥ —Å –∫–æ—Ä–æ–±–∫–æ–π, –Ω–æ –î–†–£–ì–û–ì–û —á–µ–ª–æ–≤–µ–∫–∞.",
                            unlocks: ["ev_multiple_footage"],
                            choices: [
                                { text: "–í—Å–∫—Ä—ã—Ç—å –∫–æ—Ä–æ–±–∫—É", next: "s_open_box" },
                                { text: "–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–∏—á–Ω–æ—Å—Ç—å –≤—Ç–æ—Ä–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞", next: "s_identify_second_person" }
                            ]
                        }
                    ]
                },
                {
                    id: "act3",
                    title: "–†–∞–∑–æ–±–ª–∞—á–µ–Ω–∏–µ",
                    scenes: [
                        {
                            id: "s_investigate_editing",
                            title: "–†–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –º–æ–Ω—Ç–∞–∂–∞",
                            text: "–î–µ—Ç–µ–∫—Ç–∏–≤ –æ–±—Ä–∞—â–∞–µ—Ç—Å—è –≤ IT-–æ—Ç–¥–µ–ª. –û–Ω–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –ª–æ–≥–∏. –í–∏–¥–µ–æ –±—ã–ª–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–æ –≤ 23:47 —Ç–µ–º –∂–µ –≤–µ—á–µ—Ä–æ–º. –ê–≤—Ç–æ—Ä ‚Äî –ø–æ–º–æ—â–Ω–∏–∫ —Ä–µ–∂–∏—Å—Å—ë—Ä–∞ –ú–∞–∫—Å–∏–º. –û–Ω –¥–æ–±–∞–≤–∏–ª –ø–µ—Ä–µ—Ö–æ–¥ –∏ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–ª —á–∞—Å—Ç—å –∫–∞–¥—Ä–∞. –¶–µ–ª—å: —Å–∫—Ä—ã—Ç—å —á—Ç–æ-—Ç–æ.",
                            act: "–ê–∫—Ç III",
                            pixi: "–ú–∞–∫—Å–∏–º! –ó–Ω–∞—á–∏—Ç, –æ–Ω –ø–æ–º–æ–≥–∞–ª –∏–Ω—Å—Ü–µ–Ω–∏—Ä–æ–≤–∞—Ç—å –≤—Å—ë —ç—Ç–æ. –ù–æ –ø–æ—á–µ–º—É?",
                            unlocks: ["ev_maxim_involved"],
                            choices: [
                                { text: "–î–æ–ø—Ä–æ—Å–∏—Ç—å –ú–∞–∫—Å–∏–º–∞", next: "s_interrogate_maxim" },
                                { text: "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª", next: "s_original_file" }
                            ]
                        },
                        {
                            id: "s_interrogate_maxim",
                            title: "–î–æ–ø—Ä–æ—Å –ú–∞–∫—Å–∏–º–∞",
                            text: "–î–µ—Ç–µ–∫—Ç–∏–≤ –Ω–∞—Ö–æ–¥–∏—Ç –ú–∞–∫—Å–∏–º–∞ –≤ –º–æ–Ω—Ç–∞–∂–Ω–æ–π. –û–Ω –Ω–µ—Ä–≤–Ω–∏—á–∞–µ—Ç, –Ω–æ –≥–æ—Ç–æ–≤ –≥–æ–≤–æ—Ä–∏—Ç—å. ¬´–û–ª–µ–≥ –ø–æ–ø—Ä–æ—Å–∏–ª –º–µ–Ω—è –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –≤–∏–¥–µ–æ. –û–Ω —Ö–æ—Ç–µ–ª, —á—Ç–æ–±—ã –∫–∞–∑–∞–ª–æ—Å—å, –±—É–¥—Ç–æ –ø—Ä–æ–ø–∞–ª –≤–Ω–µ–∑–∞–ø–Ω–æ. –ù–∞ —Å–∞–º–æ–º –¥–µ–ª–µ —ç—Ç–æ –±—ã–ª –µ–≥–æ –ø–ª–∞–Ω ‚Äî –ø—Ä–∏–≤–ª–µ—á—å –≤–Ω–∏–º–∞–Ω–∏–µ –∫ —É—Å–ª–æ–≤–∏—è–º —Ç—Ä—É–¥–∞ –≤ —Å—Ç—É–¥–∏–∏. –Ø –ø—Ä–æ—Å—Ç–æ –ø–æ–º–æ–≥ –µ–º—É —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏¬ª. –ú–∞–∫—Å–∏–º –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø–µ—Ä–µ–ø–∏—Å–∫—É —Å –û–ª–µ–≥–æ–º, –≥–¥–µ —Ç–æ—Ç –ø—Ä–æ—Å–∏—Ç –æ –ø–æ–º–æ—â–∏.",
                            act: "–ê–∫—Ç III",
                            pixi: "–¢–∞–∫ –≤–æ—Ç –≤ —á—ë–º –¥–µ–ª–æ! –≠—Ç–æ –±—ã–ª–∞ —Å–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –∞–∫—Ü–∏—è. –ú–∞–∫—Å–∏–º –ø—Ä–æ—Å—Ç–æ –ø–æ–º–æ—â–Ω–∏–∫.",
                            unlocks: ["ev_maxim_explanation"],
                            choices: [
                                { text: "–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª", next: "s_original_file" },
                                { text: "–ù–∞–∑–∞–¥ –∫ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é", next: "s_investigate_editing" }
                            ]
                        },
                        {
                            id: "s_original_file",
                            title: "–ò—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª",
                            text: "–ú–∞–∫—Å–∏–º –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—É—é –∑–∞–ø–∏—Å—å. –ù–∞ –Ω–µ–π –≤–∏–¥–Ω–æ –ø–æ–ª–Ω—É—é —Å—Ü–µ–Ω—É: –û–ª–µ–≥ —Å–ø–æ–∫–æ–π–Ω–æ —Å–æ–±–∏—Ä–∞–µ—Ç –≤–µ—â–∏, –æ–≥–ª—è–¥—ã–≤–∞–µ—Ç—Å—è –Ω–∞ –∫–∞–º–µ—Ä—É (TRV900), —É–ª—ã–±–∞–µ—Ç—Å—è –∏ –∫–∏–≤–∞–µ—Ç. –ó–∞—Ç–µ–º –≤—ã–∫–ª—é—á–∞–µ—Ç —Å–≤–µ—Ç –∏ —É—Ö–æ–¥–∏—Ç —á–µ—Ä–µ–∑ –∑–∞–¥–Ω—é—é –¥–≤–µ—Ä—å. –ù–∏–∫–∞–∫–æ–≥–æ –Ω–∞—Å–∏–ª–∏—è, –Ω–∏–∫–∞–∫–æ–π –ø–∞–Ω–∏–∫–∏. –≠—Ç–æ –±—ã–ª –æ—Å–æ–∑–Ω–∞–Ω–Ω—ã–π —É—Ö–æ–¥. –í —É–≥–ª—É —ç–∫—Ä–∞–Ω–∞ ‚Äî —Ç–∞–π–º–∫–æ–¥: 19:42, –Ω–∞ –¥–≤–∞ —á–∞—Å–∞ —Ä–∞–Ω—å—à–µ —á–µ–º –≤ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≤–µ—Ä—Å–∏–∏.",
                            act: "–ê–∫—Ç III",
                            pixi: "–û–ª–µ–≥ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞–ª –≤—Å—ë. –û–Ω –∑–Ω–∞–ª, —á—Ç–æ –¥–µ–ª–∞–µ—Ç. –ö–∞–º–µ—Ä–∞ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–ª–∞ –ø—Ä–∞–≤–¥—É ‚Äî –Ω—É–∂–Ω–æ –±—ã–ª–æ —Ç–æ–ª—å–∫–æ –Ω–∞–π—Ç–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª.",
                            unlocks: ["ev_original_footage"],
                            choices: [
                                { text: "–ü–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å —Ä–µ–∂–∏—Å—Å—ë—Ä–æ–º", next: "s_director_final" },
                                { text: "–ù–∞–∑–∞–¥ –∫ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—é", next: "s_investigate_editing" }
                            ]
                        },
                        {
                            id: "s_open_box",
                            title: "–ö–æ—Ä–æ–±–∫–∞ —Å —Ä–µ–∫–≤–∏–∑–∏—Ç–æ–º",
                            text: "–ö–æ—Ä–æ–±–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç: —Å—Ç–∞—Ä—ã–µ –∫–∞—Å—Å–µ—Ç—ã, —Ñ–æ—Ç–æ —Å—Ü–µ–Ω, –∑–∞–ø–∏—Å–Ω—É—é –∫–Ω–∏–∂–∫—É —Å –∞–¥—Ä–µ—Å–∞–º–∏ –∏ –Ω–æ–º–µ—Ä–∞–º–∏ —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤, –∏... –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–µ –æ—Ç —Ä—É–∫–∏ –ø–∏—Å—å–º–æ. '–†–µ–∂–∏—Å—Å—ë—Ä—É –ï–ª–µ–Ω–µ: –Ø —É—Ö–æ–∂—É. –†–∞–±–æ—Ç–∞ –≤—ã–º–∞—Ç—ã–≤–∞–µ—Ç. 12 —á–∞—Å–æ–≤ –≤ –¥–µ–Ω—å –∑–∞ 15 —Ç—ã—Å—è—á –≤ –º–µ—Å—è—Ü. –ù–æ–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ: 2 –¥–Ω—è –≤ –Ω–µ–¥–µ–ª—é, –¥–µ–¥–ª–∞–π–Ω, –º–∏–Ω–∏–º—É–º –¥–µ–Ω—å–≥–∏. –Ø —É—Å—Ç–∞–ª. ‚Äî –û–ª–µ–≥'",
                            act: "–ê–∫—Ç III",
                            pixi: "–ù–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ! –≠—Ç–æ –ø—Ä–æ—Ç–µ—Å—Ç. –û–Ω —É—à—ë–ª —Å–∞–º.",
                            unlocks: ["ev_letter_found"],
                            choices: [
                                { text: "–ü–æ–≥–æ–≤–æ—Ä–∏—Ç—å —Å —Ä–µ–∂–∏—Å—Å—ë—Ä–æ–º", next: "s_director_final" },
                                { text: "–ù–∞–π—Ç–∏ –û–ª–µ–≥–∞", next: "s_find_oleg" }
                            ]
                        },
                        {
                            id: "s_director_final",
                            title: "–§–∏–Ω–∞–ª—å–Ω–∞—è –±–µ—Å–µ–¥–∞ —Å —Ä–µ–∂–∏—Å—Å—ë—Ä–æ–º",
                            text: "–ï–ª–µ–Ω–∞ —Å–∏–¥–∏—Ç –≤ —Å—Ç—É–¥–∏–∏ —Å—Ä–µ–¥–∏ –∫–∞—Å—Å–µ—Ç. ¬´–î–∞, —ç—Ç–æ –±—ã–ª–∞ –∏–Ω—Å—Ü–µ–Ω–∏—Ä–æ–≤–∫–∞,¬ª –ø—Ä–∏–∑–Ω–∞—ë—Ç—Å—è –æ–Ω–∞. ¬´–û–ª–µ–≥ —Ö–æ—Ç–µ–ª —É–π—Ç–∏, –Ω–æ —è –ø–æ–ø—Ä–æ—Å–∏–ª–∞ –µ–≥–æ –ø–æ–º–æ—á—å –º–Ω–µ —Å–æ–∑–¥–∞—Ç—å –∏—Å—Ç–æ—Ä–∏—é, –∫–æ—Ç–æ—Ä–∞—è –ø–æ–∫–∞–∂–µ—Ç –Ω–∞—Ä—É—à–µ–Ω–∏—è. –î–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å—ä—ë–º–æ—á–Ω–æ–π –ø–ª–æ—â–∞–¥–∫–µ, –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∏, –Ω–∏–∑–∫–∏–µ –∑–∞—Ä–ø–ª–∞—Ç—ã. –ú—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ '—è–∑—ã–∫ –∫–∞–º–µ—Ä' –∫–∞–∫ –º–µ—Ç–∞—Ñ–æ—Ä—É –¥–ª—è —Ä–∞—Å–∫—Ä—ã—Ç–∏—è –ø—Ä–∞–≤–¥—ã. –ö–∞–∂–¥–∞—è –∫–∞–º–µ—Ä–∞ –ø–æ–∫–∞–∑–∞–ª–∞ —Ñ—Ä–∞–≥–º–µ–Ω—Ç –∫–∞—Ä—Ç–∏–Ω—ã: TRV900 ‚Äî —Ç—ë–ø–ª—ã–µ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —Ä–∞–∑—Ä—É—à–µ–Ω—ã; Canon XL1 ‚Äî —Ö–æ–ª–æ–¥–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞–ª—å–Ω–æ—Å—Ç—å —Ñ–∞–∫—Ç–æ–≤; DVX100 ‚Äî –∫–∏–Ω–æ—à–Ω–∞—è —Ä–æ–º–∞–Ω—Ç–∏–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞.¬ª",
                            act: "–ê–∫—Ç III",
                            pixi: "–≠—Ç–æ –∏—Å–∫—É—Å—Å—Ç–≤–æ! –û–Ω–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∏ –ø—Ä–∏—Ä–æ–¥—É –≤–∏–¥–µ–æ–∑–∞–ø–∏—Å–∏ –∫–∞–∫ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –ø—Ä–∞–≤–¥—ã.",
                            unlocks: ["ev_truth_revealed"],
                            choices: [
                                { text: "–°–æ–±—Ä–∞—Ç—å –∫–æ–º–∞–Ω–¥—É", next: "s_final_meeting" }
                            ]
                        },
                        {
                            id: "s_final_meeting",
                            title: "–°–æ–±—Ä–∞–Ω–∏–µ –∫–æ–º–∞–Ω–¥—ã",
                            text: "–í—Å—è –∫–æ–º–∞–Ω–¥–∞ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –≤ —Å—Ç—É–¥–∏–∏. –†–µ–∂–∏—Å—Å—ë—Ä –æ–±—ä—è–≤–ª—è–µ—Ç –Ω–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞: ¬´2 –¥–Ω—è –≤ –Ω–µ–¥–µ–ª—é, –∂—ë—Å—Ç–∫–∏–µ –¥–µ–¥–ª–∞–π–Ω—ã, –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –≤—ã–ø–ª–∞—Ç—ã –≤ 20 —Ç—ã—Å—è—á. –ù–∏–∫–∞–∫–æ–≥–æ –≤—ã–≥–æ—Ä–∞–Ω–∏—è. –ù–∏–∫–∞–∫–æ–≥–æ –¥–∞–≤–ª–µ–Ω–∏—è.¬ª –û–ª–µ–≥ –∫–∏–≤–∞–µ—Ç. ¬´–ò –º—ã –ø—Ä–æ–¥–æ–ª–∂–∏–º —Å–Ω–∏–º–∞—Ç—å. –ù–æ —Å —É–≤–∞–∂–µ–Ω–∏–µ–º –∫ –ª—é–¥—è–º.¬ª –ü–∏–∫—Å–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç: ¬´–ö–∞–º–µ—Ä—ã –Ω–µ –ª–≥—É—Ç. –û–Ω–∏ –ø—Ä–æ—Å—Ç–æ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç —Ç–æ, —á—Ç–æ –≤–∏–¥—è—Ç. –õ—é–¥–∏, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–æ—è—Ç –∑–∞ –Ω–∏–º–∏, ‚Äî –≤–æ—Ç –∫—Ç–æ —Ä–µ—à–∞–µ—Ç –ø—Ä–∞–≤–¥—É.¬ª",
                            act: "–ê–∫—Ç III",
                            pixi: "–≠—Ç–æ –∫–æ–Ω–µ—Ü —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è, –Ω–æ –Ω–∞—á–∞–ª–æ –ø–µ—Ä–µ–º–µ–Ω.",
                            unlocks: ["ev_new_rules"],
                            choices: [
                                { text: "–ü–µ—Ä–µ–π—Ç–∏ –∫ —ç–ø–∏–ª–æ–≥—É", next: "s_epilogue" }
                            ]
                        },
                        {
                            id: "s_identify_second_person",
                            title: "–õ–∏—á–Ω–æ—Å—Ç—å –≤—Ç–æ—Ä–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞",
                            text: "–≠–∫—Å–ø–µ—Ä—Ç–∏–∑–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç: –≤—Ç–æ—Ä–æ–π —á–µ–ª–æ–≤–µ–∫ ‚Äî —ç—Ç–æ —Å–∞–º –û–ª–µ–≥. –ù–æ –æ–¥–µ–∂–¥–∞ –¥—Ä—É–≥–∞—è, –≤–æ–ª–æ—Å—ã —Å–∫—Ä—ã—Ç—ã. –ù–∞ –≤–∏–¥–µ–æ –≤–∏–¥–Ω–æ, —á—Ç–æ –æ–Ω –ø–µ—Ä–µ–æ–¥–µ–≤–∞–ª—Å—è –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ. –≠—Ç–æ –±—ã–ª –ø—Ä–æ–¥—É–º–∞–Ω–Ω—ã–π —É—Ö–æ–¥.",
                            act: "–ê–∫—Ç III",
                            pixi: "–û–ª–µ–≥ –∏–Ω—Å—Ü–µ–Ω–∏—Ä–æ–≤–∞–ª —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ! –≠—Ç–æ –Ω–µ –ø—Ä–µ—Å—Ç—É–ø–ª–µ–Ω–∏–µ, —ç—Ç–æ –ø—Ä–æ—Ç–µ—Å—Ç.",
                            unlocks: ["ev_oleg_staged"],
                            choices: [
                                { text: "–ù–∞–π—Ç–∏ –û–ª–µ–≥–∞", next: "s_find_oleg" }
                            ]
                        },
                        {
                            id: "s_find_oleg",
                            title: "–ü–æ–∏—Å–∫ –û–ª–µ–≥–∞",
                            text: "–ü–æ –∞–¥—Ä–µ—Å–∞–º –∏–∑ –∑–∞–ø–∏—Å–Ω–æ–π –∫–Ω–∏–∂–∫–∏ –¥–µ—Ç–µ–∫—Ç–∏–≤ –Ω–∞—Ö–æ–¥–∏—Ç –û–ª–µ–≥–∞ –≤ –Ω–µ–±–æ–ª—å—à–æ–π –∫–≤–∞—Ä—Ç–∏—Ä–µ. –û–Ω —Å–ø–æ–∫–æ–µ–Ω. ¬´–Ø –Ω–µ —Ö–æ—Ç–µ–ª —ç—Ç–æ–≥–æ. –ù–æ –ï–ª–µ–Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–∏–ª–∞. –ú—ã —Ä–µ—à–∏–ª–∏ –ø–æ–∫–∞–∑–∞—Ç—å, –∫–∞–∫ –≤—ã–≥–ª—è–¥–∏—Ç —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏—è. –ò —á—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å.¬ª –û–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç: ¬´–ù–æ–≤–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ. –ü–æ–¥–ø–∏—Å–∞–Ω–æ –≤—Å–µ–º–∏.¬ª",
                            act: "–ê–∫—Ç III",
                            pixi: "–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å –Ω–µ –≤—Å–µ–≥–¥–∞ –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ –ø–æ–ª–∏—Ü–∏—è. –ò–Ω–æ–≥–¥–∞ —ç—Ç–æ –ø—Ä–æ—Å—Ç–æ –ª—é–¥–∏, –∫–æ—Ç–æ—Ä—ã–µ –≤—Å—Ç–∞—é—Ç –∏ –≥–æ–≤–æ—Ä—è—Ç '–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ'.",
                            unlocks: ["ev_oleg_found"],
                            choices: [
                                { text: "–ó–∞–≤–µ—Ä—à–∏—Ç—å —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ", next: "s_epilogue" }
                            ]
                        }
                    ]
                },
                {
                    id: "act4",
                    title: "–≠–ø–∏–ª–æ–≥",
                    scenes: [
                        {
                            id: "s_epilogue",
                            title: "–ü–µ—Ä–µ–∑–∞–ø—É—Å–∫",
                            text: "–ú–µ—Å—è—Ü —Å–ø—É—Å—Ç—è. –°—Ç—É–¥–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ –Ω–æ–≤–æ–π —Å—Ö–µ–º–µ. –õ—é–¥–∏ –º–µ–Ω—å—à–µ –ø–µ—Ä–µ–∂–∏–≤–∞—é—Ç, –Ω–æ –±–æ–ª—å—à–µ —Å–æ–∑–¥–∞—é—Ç. –ù–∞ —Å—Ç–µ–Ω–µ –≤–∏—Å–∏—Ç –ø–ª–∞–∫–∞—Ç: 'AFilm: –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç –∏—Å—Ç–æ—Ä–∏–∏. –õ—é–¥–∏ —Å–æ–∑–¥–∞—é—Ç –∏—Å–∫—É—Å—Å—Ç–≤–æ.' –ü–∏–∫—Å–∏ —à—É—Ç–∏—Ç: '–ó–Ω–∞–µ—à—å, –¥–µ—Ç–µ–∫—Ç–∏–≤, —Ä–∞–Ω—å—à–µ —è –¥—É–º–∞–ª–∞, —á—Ç–æ –∫–∞–º–µ—Ä—ã –≤–∞–∂–Ω–µ–µ –ª—é–¥–µ–π. –¢–µ–ø–µ—Ä—å —è –∑–Ω–∞—é ‚Äî –∫–∞–º–µ—Ä—ã –ø—Ä–æ—Å—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã. –ò—Å—Ç–æ—Ä–∏–∏ —Å–æ–∑–¥–∞—é—Ç –ª—é–¥–∏. –ò –∏—Å—Ç–æ—Ä–∏–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—Ç—å, ‚Äî —ç—Ç–æ –∏—Å—Ç–æ—Ä–∏–∏ —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç–∏.'",
                            act: "–≠–ø–∏–ª–æ–≥",
                            pixi: "–°–ø–∞—Å–∏–±–æ, —á—Ç–æ –ø–æ–º–æ–≥ –Ω–∞–º —Ä–∞—Å–∫—Ä—ã—Ç—å –ø—Ä–∞–≤–¥—É. –¢–µ–ø–µ—Ä—å –∏–¥–∏ –∏ —Å–º–æ—Ç—Ä–∏ –≤–∏–¥–µ–æ –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–µ–µ. –ö–∞–∂–¥—ã–π –∫–∞–¥—Ä —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é. –ù–µ –∑–∞–±—É–¥—å –ø–æ–ª—É—á–∏—Ç—å —Å–≤–æ–π —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–µ—Ç–µ–∫—Ç–∏–≤–∞!",
                            unlocks: ["ev_game_complete"],
                            choices: [
                                { text: "–ü–æ–ª—É—á–∏—Ç—å —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –¥–µ—Ç–µ–∫—Ç–∏–≤–∞ üéì", next: null }
                            ]
                        }
                    ]
                }
            ]
        };

        // ========== STATE ==========
        let currentScene = 0;
        let allScenes = [];
        let unlockedEvidences = new Set();
        let currentFilter = "all";
        let selectedCameras = {};

        // Flatten scenes
        function flattenScenes() {
            allScenes = [];
            STORY.acts.forEach(act => {
                act.scenes.forEach(scene => allScenes.push(scene));
            });
        }

        // ========== UI FUNCTIONS ==========
        function switchSection(sectionId) {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
            document.querySelectorAll('.nav-btn').forEach(b => b.classList.remove('active'));
            document.querySelector(`[data-section="${sectionId}"]`).classList.add('active');

            if (sectionId === 'db') renderCameraDatabase();
            if (sectionId === 'case') renderScene();
            window.scrollTo(0, 0);
        }

        function goToHome() {
            switchSection('home');
        }

        // ========== CASE SECTION ==========
        function renderScene() {
            if (allScenes.length === 0) flattenScenes();
            const scene = allScenes[currentScene];
            if (!scene) return;

            // Unlock evidences
            if (scene.unlocks) {
                scene.unlocks.forEach(e => unlockedEvidences.add(e));
            }

            let html = `<div class="scene-container">`;
            html += `<div class="scene-header">`;
            html += `<div><div class="scene-title">${scene.title}</div>`;
            html += `<div class="scene-meta">`;
            html += `<span class="meta-badge">${scene.act}</span>`;
            if (scene.camera) {
                const cam = CAMERAS.find(c => c.id === scene.camera);
                if (cam) html += `<span class="meta-badge">üé• ${cam.name}</span>`;
            }
            if (scene.timecode) html += `<span class="meta-badge">‚è± ${scene.timecode}</span>`;
            html += `</div></div></div>`;

            // Pixi box
            if (scene.pixi) {
                html += `<div class="pixi-box">
                    <div class="pixi-label">üíæ –ü–∏–∫—Å–∏ –≥–æ–≤–æ—Ä–∏—Ç</div>
                    <div class="pixi-text">${scene.pixi}</div>
                </div>`;
            }

            // === –í–ò–î–ï–û –ü–û–î–î–ï–†–ñ–ö–ê ===
            if (scene.video || scene.videoEmbed) {
                html += `<div class="video-container" style="margin: 1.5rem 0; border-radius: 12px; overflow: hidden; box-shadow: 0 8px 24px rgba(0,0,0,0.3);">`;
                
                if (scene.video) {
                    // –õ–æ–∫–∞–ª—å–Ω–æ–µ –≤–∏–¥–µ–æ
                    html += `
                        <video 
                            controls 
                            style="width:100%; display:block; border-radius: 12px; background: var(--bg);"
                            preload="metadata"
                        >
                            <source src="${scene.video}" type="video/mp4">
                            –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
                        </video>
                        <div style="padding: 0.75rem; background: var(--panel); color: var(--muted); font-size: 13px; text-align: center;">
                            üí° –û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –∫–∞—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–∏ –∏ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∫–∞–º–µ—Ä—ã
                        </div>
                    `;
                } else if (scene.videoEmbed) {
                    // YouTube/Vimeo
                    html += `
                        <iframe 
                            width="100%" 
                            height="450" 
                            src="${scene.videoEmbed}" 
                            frameborder="0"
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                            allowfullscreen
                            style="display:block; background: var(--bg);"
                        ></iframe>
                    `;
                }
                
                html += `</div>`;
            }

            // –°—Ç–∞—Ä—ã–π media –±–ª–æ–∫ (–∫–∞–∫ —Ä–µ–∑–µ—Ä–≤)
            if (scene.media && !scene.video && !scene.videoEmbed) {
                html += `<div class="media-placeholder">
                    <div class="media-icon">üìπ</div>
                    <div>${scene.media.type === 'video' ? '–í–∏–¥–µ–æ–∫–ª–∏–ø' : '–§–æ—Ç–æ'}</div>
                </div>`;
            }

            // Text
            html += `<div class="scene-text">${scene.text}</div>`;

            // Choices
            if (scene.choices && scene.choices.length > 0) {
                html += `<div class="choices">`;
                scene.choices.forEach((choice, idx) => {
                    if (choice.action === 'openCameraDatabase') {
                        html += `<button class="choice-btn" onclick="switchSection('db')">${choice.text}</button>`;
                    } else {
                        html += `<button class="choice-btn" onclick="goToScene('${choice.next}')">${choice.text}</button>`;
                    }
                });
                html += `</div>`;
            }

            html += `</div>`;
            document.getElementById('scene-render').innerHTML = html;

            // Update nav buttons
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const miniBtn = document.getElementById('minigame-btn');

            if (currentScene > 0) {
                prevBtn.style.display = 'block';
            } else {
                prevBtn.style.display = 'none';
            }

            if (currentScene < allScenes.length - 1 && (!scene.choices || scene.choices.length === 0)) {
                nextBtn.style.display = 'block';
            } else {
                nextBtn.style.display = 'none';
            }

            if (currentScene === allScenes.length - 1) {
                miniBtn.style.display = 'block';
            } else {
                miniBtn.style.display = 'none';
            }

            updateCasePanel();
        }

        function goToScene(sceneId) {
            if (!sceneId) return;
            const idx = allScenes.findIndex(s => s.id === sceneId);
            if (idx !== -1) {
                currentScene = idx;
                renderScene();
            }
        }

        function nextScene() {
            if (currentScene < allScenes.length - 1) {
                currentScene++;
                renderScene();
            }
        }

        function previousScene() {
            if (currentScene > 0) {
                currentScene--;
                renderScene();
            }
        }

        function updateCasePanel() {
            const scene = allScenes[currentScene];

            // Evidences
            const evidenceHtml = Array.from(unlockedEvidences)
                .map(e => {
                    const label = {
                        'ev_case_opened': 'üìå –î–µ–ª–æ –æ—Ç–∫—Ä—ã—Ç–æ',
                        'ev_meet_pixi': 'ü§ñ –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –ü–∏–∫—Å–∏',
                        'ev_learn_cameras': 'üìö –¢–∏–ø—ã —Å–µ–Ω—Å–æ—Ä–æ–≤',
                        'ev_meet_director': 'üë©‚Äçüé¨ –†–µ–∂–∏—Å—Å—ë—Ä –ï–ª–µ–Ω–∞',
                        'ev_database_discovered': 'üìñ –ë–∞–∑–∞ –∫–∞–º–µ—Ä –æ—Ç–∫—Ä—ã—Ç–∞',
                        'ev_mysterious_tape': 'üìº –°—Ç—Ä–∞–Ω–Ω–∞—è –∫–∞—Å—Å–µ—Ç–∞',
                        'ev_tape_watched': '‚ñ∂Ô∏è –ö–∞—Å—Å–µ—Ç–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ–Ω–∞',
                        'ev_assistants_interviewed': 'üë• –î–æ–ø—Ä–æ—Å –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–≤',
                        'ev_tech_explained': '‚öôÔ∏è –¢–µ—Ö–Ω–∏–∫–∞ –æ–±—ä—è—Å–Ω–µ–Ω–∞',
                        'ev_schedule_found': 'üìÖ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ',
                        'ev_corridor_evidence': 'üö™ –ö–æ—Ä–∏–¥–æ—Ä 3',
                        'ev_cctv_watched': 'üé• –í–∏–¥–µ–æ–Ω–∞–±–ª—é–¥–µ–Ω–∏–µ',
                        'ev_director_confession': 'üí¨ –ü—Ä–∏–∑–Ω–∞–Ω–∏–µ',
                        'ev_footage_edited': '‚úÇÔ∏è –í–∏–¥–µ–æ –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–æ',
                        'ev_multiple_footage': 'üìπ –ù–µ—Å–∫–æ–ª—å–∫–æ –∫–∞–º–µ—Ä',
                        'ev_maxim_involved': 'üë§ –ú–∞–∫—Å–∏–º –∑–∞–º–µ—à–∞–Ω',
                        'ev_maxim_explanation': 'üí¨ –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ú–∞–∫—Å–∏–º–∞',
                        'ev_original_footage': 'üéûÔ∏è –ò—Å—Ö–æ–¥–Ω—ã–π —Ñ–∞–π–ª –Ω–∞–π–¥–µ–Ω',
                        'ev_letter_found': 'üíå –ü–∏—Å—å–º–æ –Ω–∞–π–¥–µ–Ω–æ',
                        'ev_truth_revealed': 'üîç –ü—Ä–∞–≤–¥–∞ —Ä–∞—Å–∫—Ä—ã—Ç–∞',
                        'ev_new_rules': '‚úÖ –ù–æ–≤—ã–µ –ø—Ä–∞–≤–∏–ª–∞',
                        'ev_oleg_staged': 'üé≠ –û–ª–µ–≥ –∏–Ω—Å—Ü–µ–Ω–∏—Ä–æ–≤–∞–ª',
                        'ev_oleg_found': 'üëÅÔ∏è –û–ª–µ–≥ –Ω–∞–π–¥–µ–Ω',
                        'ev_game_complete': 'üèÜ –ò–≥—Ä–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞'
                    }[e] || e;
                    return `<div class="badge unlocked">${label}</div>`;
                })
                .join('');
            document.getElementById('evidence-panel').innerHTML = evidenceHtml || '<div class="badge">–ü–æ–∫–∞ –Ω–µ—Ç —É–ª–∏–∫...</div>';

            // Characters
            const chars = ['üë©‚Äçüé¨ –ï–ª–µ–Ω–∞ (—Ä–µ–∂–∏—Å—Å—ë—Ä)', 'üë®‚Äçüíº –û–ª–µ–≥ –§–æ–∫–∏–Ω', 'ü§ñ –ü–∏–∫—Å–∏', 'üë®‚Äçüíª –ú–∞–∫—Å–∏–º'];
            document.getElementById('character-panel').innerHTML = chars.map(c => `<div class="badge">${c}</div>`).join('');

            // Cameras mentioned
            if (scene.camerasMentioned) {
                const cams = scene.camerasMentioned
                    .map(id => CAMERAS.find(c => c.id === id))
                    .filter(c => c)
                    .map(c => `<div class="badge">${c.name}</div>`)
                    .join('');
                document.getElementById('camera-panel').innerHTML = cams;
            }
        }

        // ========== DATABASE SECTION ==========
        function renderCameraDatabase() {
            let filtered = CAMERAS;
            
            if (currentFilter !== 'all') {
                filtered = CAMERAS.filter(c => c.typeTag === currentFilter);
            }

            const searchTerm = document.getElementById('search-input').value.toLowerCase();
            if (searchTerm) {
                filtered = filtered.filter(c => 
                    c.name.toLowerCase().includes(searchTerm) || 
                    c.maker.toLowerCase().includes(searchTerm)
                );
            }

            let html = '';
            filtered.forEach(camera => {
                const displayContent = camera.image ? 
                    `<img src="${camera.image}" style="width:100%; height:100%; object-fit: cover; object-position: center;">` : 
                    `<div style="font-size: 80px; display: flex; align-items: center; justify-content: center; width: 100%; height: 100%;">${camera.emoji}</div>`;
                html += `
                    <div class="camera-card" onclick="openCameraModal('${camera.id}')">
                        <div class="camera-image" style="position: relative; background: linear-gradient(135deg, var(--panel) 0%, var(--stroke) 100%); display: flex; align-items: center; justify-content: center;">
                            ${displayContent}
                        </div>
                        <div class="camera-info" style="position: relative;">
                            <button class="upload-btn" onclick="triggerImageUpload('${camera.id}'); event.stopPropagation();" style="position: absolute; top: 0; right: 0; z-index: 10; background: var(--accent); color: var(--bg); border: none; padding: 0.5rem; border-radius: 0; font-size: 12px; cursor: pointer;">üì§</button>
                            <div class="camera-name">${camera.name}</div>
                            <div class="camera-maker">${camera.maker} ‚Ä¢ ${camera.year}</div>
                            <div class="camera-tags">
                                <span class="camera-tag">${camera.typeTag}</span>
                            </div>
                            <div class="camera-specs">
                                <strong>–°–µ–Ω—Å–æ—Ä:</strong> ${camera.sensor}<br>
                                <strong>–ö–æ–¥–µ–∫:</strong> ${camera.codec}
                            </div>
                            <button class="btn-secondary btn-small">–ü–æ–¥—Ä–æ–±–Ω–µ–µ ‚Üí</button>
                        </div>
                    </div>
                `;
            });
            document.getElementById('camera-grid').innerHTML = html;
            
            // Hidden file input for upload
            if (!document.getElementById('image-upload')) {
                const input = document.createElement('input');
                input.id = 'image-upload';
                input.type = 'file';
                input.accept = 'image/*';
                input.style.display = 'none';
                input.addEventListener('change', handleImageUpload);
                document.body.appendChild(input);
            }
        }

        function triggerImageUpload(cameraId) {
            currentUploadCamera = cameraId;
            document.getElementById('image-upload').click();
        }

        let currentUploadCamera = null;

        function handleImageUpload(e) {
            const file = e.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(event) {
                const camera = CAMERAS.find(c => c.id === currentUploadCamera);
                if (camera) {
                    camera.image = event.target.result;
                    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤ localStorage
                    localStorage.setItem(`camera_image_${currentUploadCamera}`, event.target.result);
                    renderCameraDatabase();
                    console.log(`–§–æ—Ç–æ ${camera.name} –∑–∞–≥—Ä—É–∂–µ–Ω–æ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–æ!`);
                }
            };
            reader.readAsDataURL(file);
            e.target.value = '';
        }

        // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—ã–µ —Ñ–æ—Ç–æ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏
        function loadSavedImages() {
            CAMERAS.forEach(camera => {
                const saved = localStorage.getItem(`camera_image_${camera.id}`);
                if (saved) {
                    camera.image = saved;
                }
            });
        }

        function openCameraModal(cameraId) {
            const camera = CAMERAS.find(c => c.id === cameraId);
            if (!camera) return;

            const imageContent = camera.image ?
                `<img src="${camera.image}" style="width:100%; height:100%; object-fit: cover; object-position: center;">` :
                `<div style="font-size: 120px; display: flex; align-items: center; justify-content: center; width: 100%; height: 100%;">${camera.emoji}</div>`;

            let html = `
                <h2 class="modal-title">${camera.name}</h2>
                <div style="position: relative;">
                    <div class="modal-image" style="position: relative; background: linear-gradient(135deg, var(--card) 0%, var(--stroke) 100%); display: flex; align-items: center; justify-content: center;">
                        ${imageContent}
                    </div>
                    <button class="upload-btn" onclick="triggerImageUpload('${camera.id}'); event.stopPropagation();" style="position: absolute; top: 10px; right: 10px; z-index: 10; background: var(--accent); color: var(--bg); border: none; padding: 0.75rem 1rem; border-radius: 8px; font-size: 14px; font-weight: 600; cursor: pointer;">üì§ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ</button>
                </div>
                <div class="modal-body">
                    <p><strong>"${camera.signature}"</strong></p>
                    <p>${camera.story}</p>
                </div>
                <div class="modal-specs">
                    <div class="spec-line">
                        <span class="spec-label">–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å</span>
                        <span class="spec-value">${camera.maker}</span>
                    </div>
                    <div class="spec-line">
                        <span class="spec-label">–ì–æ–¥ –≤—ã–ø—É—Å–∫–∞</span>
                        <span class="spec-value">${camera.year}</span>
                    </div>
                    <div class="spec-line">
                        <span class="spec-label">–†–∞–∑—Ä–µ—à–µ–Ω–∏–µ</span>
                        <span class="spec-value">${camera.resolution}</span>
                    </div>
                    <div class="spec-line">
                        <span class="spec-label">–°–µ–Ω—Å–æ—Ä</span>
                        <span class="spec-value">${camera.sensor}</span>
                    </div>
                    <div class="spec-line">
                        <span class="spec-label">–ö–æ–¥–µ–∫</span>
                        <span class="spec-value">${camera.codec}</span>
                    </div>
                    <div class="spec-line">
                        <span class="spec-label">–¢–∏–ø</span>
                        <span class="spec-value">${camera.typeTag}</span>
                    </div>
                </div>
            `;
            document.getElementById('modal-body').innerHTML = html;
            document.getElementById('modal').classList.add('active');
        }

        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }

        function filterCameras() {
            renderCameraDatabase();
        }

        function toggleFilter(btn, filter) {
            document.querySelectorAll('.filter-pill').forEach(b => b.classList.remove('active'));
            btn.classList.add('active');
            currentFilter = filter;
            renderCameraDatabase();
        }

        // ========== MINIGAME ==========
        function updatePreview(slot) {
            const select = document.getElementById(`camera-${slot}`);
            const preview = document.getElementById(`preview-${slot}`);
            const cameraId = select.value;

            selectedCameras[slot] = cameraId;

            const quotes = [
                '"–°–Ω–∏–º–∞–π—Ç–µ —Ç–∞–∫, –±—É–¥—Ç–æ —ç—Ç–æ –≤–∞—à –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–∞–¥—Ä"',
                '"–ö–∞–º–µ—Ä–∞ –≤–∏–¥–∏—Ç –±–æ–ª—å—à–µ, —á–µ–º –≥–ª–∞–∑–∞"',
                '"–ù–∞—Å—Ç–æ—è—â–∏–π —Ñ–∏–ª—å–º –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å –≤—ã–±–æ—Ä–∞ –∫–∞–º–µ—Ä—ã"',
                '"–ö–∞–∂–¥—ã–π –∫–∞–¥—Ä —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç –∏—Å—Ç–æ—Ä–∏—é"',
                '"–ò–¥–µ–∞–ª—å–Ω–∞—è –∫–∞–º–µ—Ä–∞ ‚Äî —Ç–∞, –∫–æ—Ç–æ—Ä–∞—è –≤ —Ç–≤–æ–∏—Ö —Ä—É–∫–∞—Ö"'
            ];

            if (cameraId) {
                const camera = CAMERAS.find(c => c.id === cameraId);
                
                const cameraEmojis = {
                    'trv900': 'üìπ',
                    'dvx100': 'üé¨',
                    'gopro': 'üì±'
                };
                
                const cameraColors = {
                    'trv900': 'linear-gradient(135deg, rgba(255, 107, 107, 0.2) 0%, rgba(255, 142, 83, 0.2) 100%)',
                    'dvx100': 'linear-gradient(135deg, rgba(79, 172, 254, 0.2) 0%, rgba(0, 242, 254, 0.2) 100%)',
                    'gopro': 'linear-gradient(135deg, rgba(67, 233, 123, 0.2) 0%, rgba(56, 249, 215, 0.2) 100%)'
                };

                preview.innerHTML = `
                    <div style="background: ${cameraColors[cameraId] || 'rgba(245, 158, 87, 0.1)'}; border-radius: 12px; padding: 0.75rem; border: 2px solid var(--accent); height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 0.5rem;">
                        <div style="font-size: 36px;">${cameraEmojis[cameraId] || 'üìπ'}</div>
                        <div style="font-size: 12px; font-weight: 700; color: var(--accent); text-align: center;">${camera.name.split(' ')[0]}</div>
                    </div>
                `;
            } else {
                const randomQuote = quotes[Math.floor(Math.random() * quotes.length)];
                preview.innerHTML = `
                    <div style="background: linear-gradient(135deg, rgba(245, 158, 87, 0.05) 0%, rgba(245, 158, 87, 0.02) 100%); border-radius: 12px; padding: 1rem; border: 1px dashed var(--accent); height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; gap: 0.5rem; min-height: 100px;">
                        <div style="font-size: 32px;">üé¨</div>
                        <div style="font-size: 11px; font-style: italic; color: var(--muted); text-align: center; line-height: 1.4;">${randomQuote}</div>
                    </div>
                `;
            }
        }

        function generateCertificate() {
            const slot1 = selectedCameras[1] || 'empty';
            const slot2 = selectedCameras[2] || 'empty';
            const slot3 = selectedCameras[3] || 'empty';

            const getMotivationalQuote = () => {
                const quotes = [
                    '"–ö–∞–º–µ—Ä–∞ ‚Äî —ç—Ç–æ –Ω–µ –ø—Ä–æ—Å—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç. –≠—Ç–æ –≥–ª–∞–∑, —á–µ—Ä–µ–∑ –∫–æ—Ç–æ—Ä—ã–π –º–∏—Ä —Å–º–æ—Ç—Ä–∏—Ç –Ω–∞ —Å–µ–±—è" ‚Äî –°—Ç—ç–Ω–ª–∏ –ö—É–±—Ä–∏–∫',
                    '"–ï—Å–ª–∏ —Ç–≤–æ–∏ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ö–æ—Ä–æ—à–∏, –∑–Ω–∞—á–∏—Ç —Ç—ã –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –±–ª–∏–∑–∫–æ" ‚Äî –†–æ–±–µ—Ä—Ç –ö–∞–ø–∞',
                    '"–Ø –Ω–µ —Å–Ω–∏–º–∞—é —Ä–µ–∞–ª—å–Ω–æ—Å—Ç—å, —è —Å–Ω–∏–º–∞—é —Ç–æ, —á—Ç–æ –≤–∏–∂—É" ‚Äî –î—ç–≤–∏–¥ –õ–∏–Ω—á',
                    '"–ö–∞–º–µ—Ä–∞ ‚Äî —ç—Ç–æ –∫–∞—Ä–∞–Ω–¥–∞—à, –∫–æ—Ç–æ—Ä—ã–º —è –ø–∏—à—É" ‚Äî –ú–∞—Ä—Ç–∏–Ω –°–∫–æ—Ä—Å–µ–∑–µ',
                    '"–°–Ω–∏–º–∞—Ç—å ‚Äî –∑–Ω–∞—á–∏—Ç –≤–∏–¥–µ—Ç—å –Ω–µ–≤–∏–¥–∏–º–æ–µ" ‚Äî –ò–Ω–≥–º–∞—Ä –ë–µ—Ä–≥–º–∞–Ω'
                ];
                return quotes[Math.floor(Math.random() * quotes.length)];
            };

            const getCameraDisplay = (id, sceneType) => {
                if (!id || id === 'empty') {
                    return `
                        <div style="display: flex; align-items: center; gap: 0.75rem;">
                            <div style="width: 50px; height: 50px; background: linear-gradient(135deg, rgba(245, 158, 87, 0.2) 0%, rgba(245, 158, 87, 0.1) 100%); border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 24px; border: 1px dashed #F59E57;">
                                üé¨
                            </div>
                            <div style="flex: 1; text-align: left;">
                                <div style="color: #F59E57; font-size: 12px; font-style: italic; line-height: 1.4;">
                                    ${getMotivationalQuote()}
                                </div>
                            </div>
                        </div>
                    `;
                }

                const cam = CAMERAS.find(c => c.id === id);
                if (!cam) return '<div style="color: #A8A29E;">–ö–∞–º–µ—Ä–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞</div>';

                // –í–∏–∑—É–∞–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞–º–µ—Ä—ã
                const cameraStyles = {
                    'trv900': {
                        emoji: 'üìπ',
                        gradient: 'linear-gradient(135deg, #FF6B6B 0%, #FF8E53 100%)',
                        icon: 'üéûÔ∏è',
                        label: '–í–∏–Ω—Ç–∞–∂'
                    },
                    'dvx100': {
                        emoji: 'üé¨',
                        gradient: 'linear-gradient(135deg, #4FACFE 0%, #00F2FE 100%)',
                        icon: 'üé•',
                        label: '–ö–∏–Ω–æ'
                    },
                    'gopro': {
                        emoji: 'üì±',
                        gradient: 'linear-gradient(135deg, #43E97B 0%, #38F9D7 100%)',
                        icon: '‚ö°',
                        label: '–≠–∫—à–Ω'
                    }
                };

                const style = cameraStyles[id] || { 
                    emoji: 'üìπ', 
                    gradient: 'linear-gradient(135deg, #F59E57 0%, #E8945A 100%)',
                    icon: 'üé¨',
                    label: '–ö–∞–º–µ—Ä–∞'
                };

                return `
                    <div style="display: flex; align-items: center; gap: 0.75rem;">
                        <div style="width: 50px; height: 50px; background: ${style.gradient}; border-radius: 8px; display: flex; align-items: center; justify-content: center; font-size: 28px; box-shadow: 0 4px 12px rgba(0,0,0,0.3);">
                            ${style.emoji}
                        </div>
                        <div style="flex: 1; text-align: left;">
                            <div style="color: #ECEAE7; font-size: 14px; font-weight: 700;">${cam.name}</div>
                            <div style="color: #A8A29E; font-size: 11px;">${style.icon} ${style.label}</div>
                        </div>
                    </div>
                `;
            };

            // –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º —É–ª–∏–∫–∏
            const totalClues = unlockedEvidences.size;
            const date = new Date().toLocaleDateString('ru-RU', { 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });

            const certificateHtml = `
                <div style="background: linear-gradient(135deg, #1C1B1A 0%, #2A2927 100%); border: 3px solid #F59E57; border-radius: 20px; padding: 3rem 2rem; text-align: center; max-width: 650px; margin: 0 auto; box-shadow: 0 12px 48px rgba(245, 158, 87, 0.25);">
                    
                    <!-- –õ–æ–≥–æ—Ç–∏–ø –∏ –∑–∞–≥–æ–ª–æ–≤–æ–∫ -->
                    <div style="margin-bottom: 2rem;">
                        <div style="font-size: 48px; color: #F59E57; font-weight: 700; margin-bottom: 0.5rem; letter-spacing: 2px;">AFilm</div>
                        <div style="font-size: 14px; color: #A8A29E; text-transform: uppercase; letter-spacing: 3px;">–°—Ç—É–¥–∏—è —Ü–∏—Ñ—Ä–æ–≤–æ–π –ø–∞–º—è—Ç–∏</div>
                    </div>

                    <!-- –¢–∏–ø —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç–∞ -->
                    <div style="background: linear-gradient(135deg, #F59E57 0%, #E8945A 100%); padding: 1rem 2rem; border-radius: 50px; display: inline-block; margin-bottom: 2rem;">
                        <div style="font-size: 20px; font-weight: 700; color: white; letter-spacing: 1px;">üîç –°–ï–†–¢–ò–§–ò–ö–ê–¢ –î–ï–¢–ï–ö–¢–ò–í–ê</div>
                    </div>

                    <!-- –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç -->
                    <div style="margin-bottom: 2rem;">
                        <p style="color: #ECEAE7; font-size: 16px; line-height: 1.8; margin: 0;">
                            –ù–∞—Å—Ç–æ—è—â–∏–º —É–¥–æ—Å—Ç–æ–≤–µ—Ä—è–µ—Ç—Å—è, —á—Ç–æ
                        </p>
                        <div style="font-size: 28px; color: #F59E57; font-weight: 700; margin: 1rem 0; padding: 0.5rem; border-bottom: 2px solid #3A3936;">
                            –î–ï–¢–ï–ö–¢–ò–í
                        </div>
                        <p style="color: #ECEAE7; font-size: 16px; line-height: 1.8; margin: 0;">
                            —É—Å–ø–µ—à–Ω–æ —Ä–∞—Å–∫—Ä—ã–ª –¥–µ–ª–æ –æ–± –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–∏ —Ä–µ–∂–∏—Å—Å—ë—Ä–∞ –û–ª–µ–≥–∞ –§–æ–∫–∏–Ω–∞<br>
                            –∏ –æ—Å–≤–æ–∏–ª –∏—Å–∫—É—Å—Å—Ç–≤–æ —á—Ç–µ–Ω–∏—è —è–∑—ã–∫–∞ –∫–∞–º–µ—Ä
                        </p>
                    </div>

                    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 2rem;">
                        <div style="background: #242321; border-radius: 12px; padding: 1rem; border: 1px solid #3A3936;">
                            <div style="color: #A8A29E; font-size: 12px; text-transform: uppercase; margin-bottom: 0.5rem;">–£–ª–∏–∫ —Ä–∞—Å–∫—Ä—ã—Ç–æ</div>
                            <div style="color: #F59E57; font-size: 32px; font-weight: 700;">${totalClues}/21</div>
                        </div>
                        <div style="background: #242321; border-radius: 12px; padding: 1rem; border: 1px solid #3A3936;">
                            <div style="color: #A8A29E; font-size: 12px; text-transform: uppercase; margin-bottom: 0.5rem;">–î–µ–ª–æ –∑–∞–∫—Ä—ã—Ç–æ</div>
                            <div style="color: #4CAF50; font-size: 32px; font-weight: 700;">‚úì</div>
                        </div>
                    </div>

                    <!-- –í—ã–±—Ä–∞–Ω–Ω—ã–µ –∫–∞–º–µ—Ä—ã -->
                    <div style="background: #1C1B1A; border-radius: 12px; padding: 1.5rem; margin-bottom: 2rem; border: 1px solid #3A3936;">
                        <div style="color: #F59E57; font-size: 14px; font-weight: 700; text-transform: uppercase; margin-bottom: 1rem; letter-spacing: 1px;">
                            üé¨ –í—ã–±–æ—Ä –∫–∞–º–µ—Ä –¥–ª—è —Å—Ü–µ–Ω
                        </div>
                        
                        <div style="display: grid; gap: 1rem;">
                            <div style="background: #242321; padding: 1rem; border-radius: 8px;">
                                <div style="color: #A8A29E; font-size: 11px; text-transform: uppercase; margin-bottom: 0.5rem; letter-spacing: 1px;">–ò–Ω—Ç–µ—Ä–≤—å—é —Å –≥–µ—Ä–æ–µ–º</div>
                                ${getCameraDisplay(slot1, 'interview')}
                            </div>
                            
                            <div style="background: #242321; padding: 1rem; border-radius: 8px;">
                                <div style="color: #A8A29E; font-size: 11px; text-transform: uppercase; margin-bottom: 0.5rem; letter-spacing: 1px;">–ü–æ–≥–æ–Ω—è –ø–æ –≥–æ—Ä–æ–¥—É</div>
                                ${getCameraDisplay(slot2, 'chase')}
                            </div>
                            
                            <div style="background: #242321; padding: 1rem; border-radius: 8px;">
                                <div style="color: #A8A29E; font-size: 11px; text-transform: uppercase; margin-bottom: 0.5rem; letter-spacing: 1px;">–§–∏–Ω–∞–ª—å–Ω–∞—è –≤—Å—Ç—Ä–µ—á–∞</div>
                                ${getCameraDisplay(slot3, 'finale')}
                            </div>
                        </div>
                    </div>

                    <!-- –ü–æ–¥–ø–∏—Å–∏ -->
                    <div style="display: flex; justify-content: space-between; align-items: end; padding-top: 1.5rem; border-top: 1px solid #3A3936;">
                        <div style="text-align: left;">
                            <div style="color: #A8A29E; font-size: 12px; margin-bottom: 0.5rem;">–î–∞—Ç–∞ –≤—ã–¥–∞—á–∏:</div>
                            <div style="color: #ECEAE7; font-size: 14px; font-weight: 600;">${date}</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="color: #F59E57; font-size: 24px; margin-bottom: 0.25rem;">ü§ñ</div>
                            <div style="color: #A8A29E; font-size: 12px; margin-bottom: 0.25rem;">–ü–∏–∫—Å–∏</div>
                            <div style="color: #ECEAE7; font-size: 11px;">–≠–∫—Å–ø–µ—Ä—Ç –ø–æ –∫–∞–º–µ—Ä–∞–º</div>
                        </div>
                    </div>

                    <!-- –§–∏–Ω–∞–ª—å–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞ -->
                    <div style="margin-top: 1.5rem; padding: 1rem; background: linear-gradient(135deg, rgba(245, 158, 87, 0.1) 0%, rgba(245, 158, 87, 0.05) 100%); border-radius: 8px; border-left: 3px solid #F59E57;">
                        <p style="color: #ECEAE7; font-size: 13px; line-height: 1.6; margin: 0; font-style: italic;">
                            "–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç –∏—Å—Ç–æ—Ä–∏–∏.<br>–õ—é–¥–∏ —Å–æ–∑–¥–∞—é—Ç –∏—Å–∫—É—Å—Å—Ç–≤–æ."
                        </p>
                    </div>

                </div>
            `;

            document.getElementById('poster-output').innerHTML = certificateHtml;
            document.getElementById('poster-container').style.display = 'block';
            
            // –ü–ª–∞–≤–Ω–∞—è –ø—Ä–æ–∫—Ä—É—Ç–∫–∞ –∫ —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç—É
            setTimeout(() => {
                document.getElementById('poster-container').scrollIntoView({ 
                    behavior: 'smooth', 
                    block: 'center' 
                });
            }, 100);
        }

        function saveCertificate() {
            const certificateDiv = document.getElementById('poster-output');
            if (!certificateDiv) return;

            const htmlContent = `
                <!DOCTYPE html>
                <html lang="ru">
                <head>
                    <meta charset="UTF-8">
                    <meta name="viewport" content="width=device-width, initial-scale=1.0">
                    <title>AFilm ‚Äî –°–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç –î–µ—Ç–µ–∫—Ç–∏–≤–∞</title>
                    <style>
                        body {
                            margin: 0;
                            padding: 20px;
                            background: #1C1B1A;
                            display: flex;
                            align-items: center;
                            justify-content: center;
                            min-height: 100vh;
                            font-family: Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
                        }
                    </style>
                </head>
                <body>
                    ${certificateDiv.innerHTML}
                </body>
                </html>
            `;

            const blob = new Blob([htmlContent], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'afilm-detective-certificate.html';
            a.click();
            URL.revokeObjectURL(url);
        }

        // ========== INIT ==========
        document.addEventListener('DOMContentLoaded', () => {
            flattenScenes();
            renderScene();
        });

        // Close modal on background click
        document.getElementById('modal').addEventListener('click', (e) => {
            if (e.target.id === 'modal') closeModal();
        });

        // ========== TRAILER MODAL ==========
        function openTrailerModal() {
            document.getElementById('trailerModal').style.display = 'flex';
        }

        function closeTrailerModal() {
            document.getElementById('trailerModal').style.display = 'none';
            // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–∏–¥–µ–æ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
            const video = document.getElementById('trailerVideo');
            if (video) {
                video.pause();
                video.currentTime = 0;
            }
        }

        // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ —Ñ–æ–Ω
        document.addEventListener('DOMContentLoaded', () => {
            const trailerModal = document.getElementById('trailerModal');
            if (trailerModal) {
                trailerModal.addEventListener('click', (e) => {
                    if (e.target.id === 'trailerModal') closeTrailerModal();
                });
            }
        });
    </script>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è —Ç—Ä–µ–π–ª–µ—Ä–∞ -->
    <div id="trailerModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.9); z-index: 10000; justify-content: center; align-items: center;">
        <div style="position: relative; max-width: 900px; width: 90%; background: var(--panel); border-radius: 12px; overflow: hidden; box-shadow: 0 8px 32px rgba(0,0,0,0.5);">
            <!-- –ö–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç–∏—è -->
            <button onclick="closeTrailerModal()" style="position: absolute; top: 1rem; right: 1rem; background: rgba(0,0,0,0.6); border: none; color: white; font-size: 24px; width: 40px; height: 40px; border-radius: 50%; cursor: pointer; z-index: 10; transition: all 0.3s ease;">
                √ó
            </button>
            
            <!-- –ó–∞–≥–æ–ª–æ–≤–æ–∫ -->
            <div style="padding: 2rem 2rem 1rem 2rem; background: linear-gradient(135deg, var(--panel) 0%, var(--card) 100%); border-bottom: 1px solid var(--stroke);">
                <h2 style="color: var(--accent); margin: 0; font-size: 1.5rem;">–¢—Ä–µ–π–ª–µ—Ä AFilm: –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –ü–∏–∫—Å–∏</h2>
                <p style="color: var(--muted); margin: 0.5rem 0 0 0; font-size: 14px;">–í–∞—à –ø—Ä–æ–≤–æ–¥–Ω–∏–∫ –≤ –º–∏—Ä –ª—é–±–∏—Ç–µ–ª—å—Å–∫–∏—Ö –∫–∞–º–µ—Ä</p>
            </div>
            
            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –≤–∏–¥–µ–æ -->
            <div style="padding: 2rem;">
                <div id="trailerVideoContainer" style="background: var(--bg); border-radius: 8px; overflow: hidden; box-shadow: 0 4px 16px rgba(0,0,0,0.3);">
                    <!-- –í–∏–¥–µ–æ –±—É–¥–µ—Ç –∑–¥–µ—Å—å –∫–æ–≥–¥–∞ –¥–æ–±–∞–≤–∏—Ç–µ -->
                    <video 
                        id="trailerVideo"
                        controls 
                        style="width: 100%; display: block; border-radius: 8px;"
                        preload="metadata"
                    >
                        <source src="assets/trailer.mp4" type="video/mp4">
                        <div style="padding: 3rem; text-align: center; color: var(--muted);">
                            <p style="font-size: 1.2rem; margin-bottom: 1rem;">üé¨ –¢—Ä–µ–π–ª–µ—Ä —Å–∫–æ—Ä–æ –ø–æ—è–≤–∏—Ç—Å—è!</p>
                            <p>–ú—ã –≥–æ—Ç–æ–≤–∏–º –¥–ª—è –≤–∞—Å –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –ü–∏–∫—Å–∏ ‚Äî –≤–∞—à–∏–º –ø—Ä–æ–≤–æ–¥–Ω–∏–∫–æ–º –≤ –º–∏—Ä–µ –∫–∞–º–µ—Ä.</p>
                        </div>
                    </video>
                </div>
                
                <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ç—Ä–µ–π–ª–µ—Ä–µ -->
                <div style="margin-top: 1.5rem; padding: 1rem; background: var(--card); border-radius: 8px; border-left: 3px solid var(--accent);">
                    <p style="color: var(--text); margin: 0; font-size: 14px;">
                        <strong style="color: var(--accent);">–ß—Ç–æ –≤–∞—Å –∂–¥—ë—Ç –≤ —Ç—Ä–µ–π–ª–µ—Ä–µ:</strong><br>
                        ‚Ä¢ –ó–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –ü–∏–∫—Å–∏ ‚Äî –¥—Ä—É–∂–µ–ª—é–±–Ω—ã–º —ç–∫—Å–ø–µ—Ä—Ç–æ–º –ø–æ –∫–∞–º–µ—Ä–∞–º<br>
                        ‚Ä¢ –ü–æ–≥—Ä—É–∂–µ–Ω–∏–µ –≤ –∞—Ç–º–æ—Å—Ñ–µ—Ä—É –¥–µ—Ç–µ–∫—Ç–∏–≤–Ω–æ–≥–æ —Ä–∞—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è<br>
                        ‚Ä¢ –ü–µ—Ä–≤—ã–π –≤–∑–≥–ª—è–¥ –Ω–∞ —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å –∏–≥—Ä—ã<br>
                        ‚Ä¢ –ò—Å—Ç–æ—Ä–∏—è –æ —Ç–æ–º, –∫–∞–∫ –∫–∞–º–µ—Ä—ã —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é—Ç –∏—Å—Ç–æ—Ä–∏–∏
                    </p>
                </div>
            </div>
        </div>
    </div>
</body>
</html>
